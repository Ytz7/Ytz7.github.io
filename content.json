{"meta":{"title":"ä¸ƒå·zz ã® Blog","subtitle":"æ„¿ä¸ºæœªæ¥åšç‰›é©¬ã€‚","description":"åºŸæç ”ç©¶ç”ŸğŸ¤¦â€â™‚ï¸","author":"ä¸ƒå·zz","url":"https://Ytz7.github.io","root":"/"},"pages":[{"title":"","date":"2023-09-13T09:03:09.924Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"manifest.json","permalink":"https://ytz7.github.io/manifest.json","excerpt":"","text":"{\"name\":\"ä¸ƒå·zz ã® Blog\",\"short_name\":\"ä¸ƒå·zz\",\"theme_color\":\"#eedeab\",\"background_color\":\"#eedeab\",\"display\":\"standalone\",\"scope\":\"/\",\"start_url\":\"/\",\"icons\":[{\"src\":\"/img/siteicon/16.png\",\"sizes\":\"16x16\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/32.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/48.png\",\"sizes\":\"48x48\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/64.png\",\"sizes\":\"64x64\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/128.png\",\"sizes\":\"128x128\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/144.png\",\"sizes\":\"144x144\",\"type\":\"image/png\"},{\"src\":\"/img/siteicon/512.png\",\"sizes\":\"512x512\",\"type\":\"image/png\"}],\"splash_pages\":null}"},{"title":"about","date":"2023-04-24T14:13:26.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"about/index.html","permalink":"https://ytz7.github.io/about/index.html","excerpt":"","text":"å…³äºæˆ‘ä¸€ä¸ªåºŸæç ”ç©¶ç”ŸISFJ/å®ˆæŠ¤è€…è®©æˆ‘åœ¨æŠ‘éƒçš„è¾¹ç¼˜å¾˜å¾Š"},{"title":"åˆ†ç±»","date":"2023-04-24T14:13:14.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"categories/index.html","permalink":"https://ytz7.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2023-09-13T09:03:09.924Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"js/ali_font.js","permalink":"https://ytz7.github.io/js/ali_font.js","excerpt":"","text":"!(function (c) { var l, h, a, t, i, v = '', o = (o = document.getElementsByTagName(\"script\"))[o.length - 1].getAttribute(\"data-injectcss\"), p = function (c, l) { l.parentNode.insertBefore(c, l); }; if (o &amp;&amp; !c.__iconfont__svg__cssinject__) { c.__iconfont__svg__cssinject__ = !0; try { document.write( \".svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}\" ); } catch (c) { console &amp;&amp; console.log(c); } } function d() { i || ((i = !0), a()); } function m() { try { t.documentElement.doScroll(\"left\"); } catch (c) { return void setTimeout(m, 50); } d(); } (l = function () { var c, l = document.createElement(\"div\"); (l.innerHTML = v), (v = null), (l = l.getElementsByTagName(\"svg\")[0]) &amp;&amp; (l.setAttribute(\"aria-hidden\", \"true\"), (l.style.position = \"absolute\"), (l.style.width = 0), (l.style.height = 0), (l.style.overflow = \"hidden\"), (l = l), (c = document.body).firstChild ? p(l, c.firstChild) : c.appendChild(l)); }), document.addEventListener ? ~[\"complete\", \"loaded\", \"interactive\"].indexOf(document.readyState) ? setTimeout(l, 0) : ((h = function () { document.removeEventListener(\"DOMContentLoaded\", h, !1), l(); }), document.addEventListener(\"DOMContentLoaded\", h, !1)) : document.attachEvent &amp;&amp; ((a = l), (t = c.document), (i = !1), m(), (t.onreadystatechange = function () { \"complete\" == t.readyState &amp;&amp; ((t.onreadystatechange = null), d()); })); })(window);"},{"title":"å‹æƒ…é“¾æ¥","date":"2023-04-24T14:25:31.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"link/index.html","permalink":"https://ytz7.github.io/link/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2023-04-24T14:12:42.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"tags/index.html","permalink":"https://ytz7.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"SimMatch","slug":"SimMatch","date":"2023-09-02T12:10:38.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/697723e2.html","link":"","permalink":"https://ytz7.github.io/posts/697723e2.html","excerpt":"","text":"SimMatch: Semi-supervised Learning with Similarity Matching - CVPR 2022","categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://ytz7.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"MMDetection","slug":"MMDetection","date":"2023-06-06T09:02:27.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/73d20edf.html","link":"","permalink":"https://ytz7.github.io/posts/73d20edf.html","excerpt":"","text":"MMDetection è¸©å‘ä¹‹è·¯ æ¯å¤©éƒ½åœ¨é…ç¯å¢ƒï¼Œæ¯æ—¶æ¯åˆ»éƒ½åœ¨çƒ¦â€¦ å‚è€ƒï¼šä¾èµ– â€” MMDetection 2.17.0 æ–‡æ¡£ å®‰è£…é…ç½®å®‰è£… Pytorch123&gt; æ›´æ–° pip&gt; python -m pip install --upgrade pip&gt; pip install torch==1.9.1+cu111 torchvision==0.10.1+cu111 torchaudio==0.9.1 -f https://download.pytorch.org/whl/torch_stable.html å®‰è£… mmcv-fullæ¨èå®‰è£… mmcv-fullï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œç®€ç‰ˆä¸º mmcvï¼Œå¹¶ä¸”ï¼Œä¸‹è½½æ—¶å¿…é¡»ä» openmmlab å®˜ç½‘ä¸‹è½½ï¼Œä¸‹è½½æºæ ¼å¼ä¸ºï¼š 1https://download.openmmlab.com/mmcv/dist/cu${CUDA_VERSION }/torch{TORCH_VERSION }/index.html å½“ cuda ç‰ˆæœ¬ä¸º 10.1 æ—¶ï¼Œåˆ™ä¸º cu101ï¼›11.1 æ—¶ï¼Œä¸º cu111 torch çš„ç‰ˆæœ¬ä¸ç®¡ä¸º 1.9.5 è¿˜æ˜¯ 1.9.1ï¼Œå°ç‰ˆæœ¬éƒ½å½’é›¶ï¼Œå³ 1.9.0 åœ¨ CUDA 11.1ï¼Œtorch ç‰ˆæœ¬ä¸º 1.9.1 çš„ç‰ˆæœ¬ä¸‹ï¼Œä¸‹è½½åœ°å€ä¸ºï¼š 1https://download.openmmlab.com/mmcv/dist/cu111/torch1.9.0/index.html å®Œæ•´çš„å‘½ä»¤ä¸ºï¼š 1&gt; pip install mmcv-full==1.3.17 -f https://download.openmmlab.com/mmcv/dist/cu111/torch1.9.0/index.html å®‰è£… mmdetectionéœ€è¦æ³¨æ„ä¾èµ–ï¼Œå‚è€ƒé¦–è¡Œçš„å®˜æ–¹æ–‡æ¡£ï¼š 1&gt; pip install mmdet==2.25 å­¦ä¹  MMDetectionå¯¹æ•°æ®åšå¢å¼º1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374# å¼ºå¢å¼º - SoftTeacherstrong_pipeline = [ dict( type=\"Sequential\", transforms=[ dict( type=\"RandResize\", img_scale=[(1333, 400), (1333, 1200)], multiscale_mode=\"range\", keep_ratio=True, ), dict(type=\"RandFlip\", flip_ratio=0.5), dict( type=\"ShuffledSequential\", transforms=[ dict( type=\"OneOf\", transforms=[ dict(type=k) for k in [ \"Identity\", \"AutoContrast\", \"RandEqualize\", \"RandSolarize\", \"RandColor\", \"RandContrast\", \"RandBrightness\", \"RandSharpness\", \"RandPosterize\", ] ], ), dict( type=\"OneOf\", transforms=[ dict(type=\"RandTranslate\", x=(-0.1, 0.1)), dict(type=\"RandTranslate\", y=(-0.1, 0.1)), dict(type=\"RandRotate\", angle=(-30, 30)), [ dict(type=\"RandShear\", x=(-30, 30)), dict(type=\"RandShear\", y=(-30, 30)), ], ], ), ], ), dict( type=\"RandErase\", n_iterations=(1, 5), size=[0, 0.2], squared=True, ), ], record=True, ), dict(type=\"Pad\", size_divisor=32), dict(type=\"Normalize\", **img_norm_cfg), dict(type=\"ExtraAttrs\", tag=\"unsup_student\"), dict(type=\"DefaultFormatBundle\"), dict( type=\"Collect\", keys=[\"img\", \"gt_bboxes\", \"gt_labels\"], meta_keys=( \"filename\", \"ori_shape\", \"img_shape\", \"img_norm_cfg\", \"pad_shape\", \"scale_factor\", \"tag\", \"transform_matrix\", ), ),] è¿™æ®µä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªå¼ºå¢å¼ºçš„ pipelineï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š RandResizeï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œç¼©æ”¾ï¼Œå¯ä»¥ç”Ÿæˆä¸åŒå°ºåº¦çš„å›¾åƒæ¥å¢åŠ è®­ç»ƒæ•°æ®çš„å¤šæ ·æ€§ã€‚ RandFlipï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œæ°´å¹³æˆ–å‚ç›´ç¿»è½¬ï¼Œå¯ä»¥å¸®åŠ©æ¨¡å‹å­¦ä¹ ä¸åŒè§’åº¦çš„ç‰©ä½“ã€‚ ShuffledSequentialï¼šå°†åç»­çš„å¢å¼ºæ“ä½œéšæœºæ‰“ä¹±ï¼Œä»¥å¢åŠ æ•°æ®çš„å¤šæ ·æ€§ã€‚ OneOfï¼šä»ä¸€ç»„å¢å¼ºæ“ä½œä¸­éšæœºé€‰æ‹©ä¸€ä¸ªè¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬ï¼š Identityï¼šåŸå›¾ä¸å˜ AutoContrastï¼šè‡ªåŠ¨è°ƒæ•´å›¾åƒå¯¹æ¯”åº¦ RandEqualizeï¼šéšæœºå¢å¼ºç›´æ–¹å›¾å‡è¡¡åŒ– RandSolarizeï¼šéšæœºå¢å¼º Solarization æ•ˆæœ RandColorï¼šéšæœºæ”¹å˜å›¾åƒé¢œè‰²å¹³è¡¡ RandContrastï¼šéšæœºå¢å¼ºå›¾åƒå¯¹æ¯”åº¦ RandBrightnessï¼šéšæœºæ”¹å˜å›¾åƒäº®åº¦ RandSharpnessï¼šéšæœºå¢å¼ºå›¾åƒé”åˆ©åº¦ RandPosterizeï¼šéšæœºé™ä½å›¾åƒä½æ·±åº¦ OneOfï¼šä»ä¸€ç»„å¢å¼ºæ“ä½œä¸­éšæœºé€‰æ‹©ä¸€ä¸ªè¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬ï¼š RandTranslateï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œå¹³ç§» RandRotateï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œæ—‹è½¬ RandShearï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œå‰ªåˆ‡ RandEraseï¼šéšæœºæ“¦é™¤å›¾åƒä¸­çš„åƒç´ ï¼Œå¢åŠ æ¨¡å‹å¯¹å›¾åƒå™ªå£°å’Œé®æŒ¡çš„é²æ£’æ€§ã€‚ Padï¼šå°†å›¾åƒå¡«å……è‡³æŒ‡å®šå¤§å°çš„å€æ•°ï¼Œç”¨äºå¤„ç†ä¸åŒå¤§å°çš„å›¾åƒä»¥åŠç‰¹å®šçš„ GPU åŠ é€Ÿè¦æ±‚ã€‚ Normalizeï¼šå¯¹å›¾åƒè¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå°†åƒç´ å€¼æ˜ å°„åˆ°å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1 çš„åˆ†å¸ƒä¸­ã€‚ ExtraAttrsï¼šæ·»åŠ ä¸€ä¸ªé¢å¤–çš„å±æ€§ï¼Œç”¨äºæ ‡è®°æ•°æ®è¢«ä¼ å…¥æ¨¡å‹çš„æ¥æºï¼ˆè¿™é‡Œæ ‡è®°ä¸º â€œunsup_studentâ€ï¼‰ã€‚ DefaultFormatBundleï¼šå°†å›¾åƒæ•°æ®æ‰“åŒ…ä¸ºé»˜è®¤æ ¼å¼ã€‚ Collectï¼šå°†å›¾åƒåŠå…¶æ ‡æ³¨ä¿¡æ¯æ”¶é›†åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œä»¥ä¾›åç»­å¤„ç†ã€‚ 12345678910111213141516171819202122232425262728293031323334# å¼±å¢å¼º - SoftTeacherweak_pipeline = [ dict( type=\"Sequential\", transforms=[ dict( type=\"RandResize\", img_scale=[(1333, 400), (1333, 1200)], multiscale_mode=\"range\", keep_ratio=True, ), dict(type=\"RandFlip\", flip_ratio=0.5), ], record=True, ), dict(type=\"Pad\", size_divisor=32), dict(type=\"Normalize\", **img_norm_cfg), dict(type=\"ExtraAttrs\", tag=\"unsup_teacher\"), dict(type=\"DefaultFormatBundle\"), dict( type=\"Collect\", keys=[\"img\", \"gt_bboxes\", \"gt_labels\"], meta_keys=( \"filename\", \"ori_shape\", \"img_shape\", \"img_norm_cfg\", \"pad_shape\", \"scale_factor\", \"tag\", \"transform_matrix\", ), ),] è¿™æ˜¯ä¸€æ®µå¼±å¢å¼ºçš„ä»£ç ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š RandResizeï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œç¼©æ”¾ï¼Œå¯ä»¥ç”Ÿæˆä¸åŒå°ºåº¦çš„å›¾åƒæ¥å¢åŠ è®­ç»ƒæ•°æ®çš„å¤šæ ·æ€§ã€‚ RandFlipï¼šéšæœºå¯¹å›¾åƒè¿›è¡Œæ°´å¹³æˆ–å‚ç›´ç¿»è½¬ï¼Œå¯ä»¥å¸®åŠ©æ¨¡å‹å­¦ä¹ ä¸åŒè§’åº¦çš„ç‰©ä½“ã€‚ Padï¼šå°†å›¾åƒå¡«å……è‡³æŒ‡å®šå¤§å°çš„å€æ•°ï¼Œç”¨äºå¤„ç†ä¸åŒå¤§å°çš„å›¾åƒä»¥åŠç‰¹å®šçš„ GPU åŠ é€Ÿè¦æ±‚ã€‚ Normalizeï¼šå¯¹å›¾åƒè¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œå°†åƒç´ å€¼æ˜ å°„åˆ°å‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1 çš„åˆ†å¸ƒä¸­ã€‚ ExtraAttrsï¼šæ·»åŠ ä¸€ä¸ªé¢å¤–çš„å±æ€§ï¼Œç”¨äºæ ‡è®°æ•°æ®è¢«ä¼ å…¥æ¨¡å‹çš„æ¥æºï¼ˆè¿™é‡Œæ ‡è®°ä¸º â€œunsup_teacherâ€ï¼‰ã€‚ DefaultFormatBundleï¼šå°†å›¾åƒæ•°æ®æ‰“åŒ…ä¸ºé»˜è®¤æ ¼å¼ã€‚ Collectï¼šå°†å›¾åƒåŠå…¶æ ‡æ³¨ä¿¡æ¯æ”¶é›†åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œä»¥ä¾›åç»­å¤„ç†ã€‚","categories":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://ytz7.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"}],"tags":[]},{"title":"Faster-RCNN","slug":"faster-rcnn","date":"2023-05-28T09:08:02.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/c018b3e5.html","link":"","permalink":"https://ytz7.github.io/posts/c018b3e5.html","excerpt":"","text":"Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks è®°ä¸€æ¬¡è¿‡åº¦é¥®é…’åçš„ç¬¬äºŒå¤©â€¦çœŸçš„ç—›è‹¦ çœ‹äº†å¥½å‡ ç¯‡åœ¨ç›®æ ‡æ£€æµ‹ç®—æ³•åº”ç”¨åŠç›‘ç£å­¦ä¹ çš„æ–‡ç« ï¼Œæ„Ÿè§‰å¥½å¤šéƒ½æ˜¯åŸºäº Faster RCNN ä½œä¸ºå…¶ä¸»å¹²ç½‘ç»œæ¥å®ç°ï¼Œä½†æ˜¯å¯¹äºç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œç›®å‰åªå¯¹äº YOLOv3ï¼ˆOne-Stageï¼‰æœ‰æ‰€äº†è§£ï¼Œæ‰€ä»¥è¯´ï¼Œè¿˜æ˜¯éœ€è¦å¯¹å…¶ä»–ç›®æ ‡æ£€æµ‹çš„ç®—æ³•æœ‰æ‰€äº†è§£æ‰å¥½ã€‚ è®ºæ–‡åœ°å€ï¼š Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks å‚è€ƒæ–‡ç« ï¼š Pytorchæ­å»ºFaster R-CNNç›®æ ‡æ£€æµ‹å¹³å° RCNNã€Fast-RCNNã€Faster-RCNNç½‘ç»œè¯¦è§£ Faster RCNNçš„ä¸€äº›ç¬”è®° RPN è§£æ å‚è€ƒè§†é¢‘ï¼š éœ¹é›³å§å•¦Wz Bubbliiiing RCNN ç®—æ³•æµç¨‹ ä¸€å¼ å›¾ç‰‡ç”Ÿæˆ1k~2kä¸ªå€™é€‰åŒºåŸŸ(ä½¿ç”¨Selective Searchæ–¹æ³•)ï¼› å¯¹æ¯ä¸ªå€™é€‰åŒºåŸŸï¼Œä½¿ç”¨æ·±åº¦ç½‘ç»œ(å³å›¾ç‰‡åˆ†ç±»ç½‘ç»œ)æå–ç‰¹å¾ï¼› ç‰¹å¾é€å…¥æ¯ä¸€ç±»çš„SVMåˆ†ç±»å™¨ï¼Œåˆ¤åˆ«æ˜¯å¦å±äºè¯¥ç±»ï¼› ä½¿ç”¨å›å½’å™¨ç²¾ç»†ä¿®æ­£å€™é€‰æ¡†ä½ç½®ã€‚ Selective Search æ–¹æ³•æ˜¯ä¸€ç§é€šè¿‡å›¾åƒåˆ†å‰²æ–¹æ³•æ¥ç”Ÿæˆä¸€äº›åŸå§‹åŒºåŸŸçš„æ–¹æ³•ï¼Œä½¿ç”¨ä¸€äº›åˆå¹¶ç­–ç•¥å°†è¿™äº›åŒºåŸŸåˆå¹¶ï¼Œå¾—åˆ°ä¸€ä¸ªå±‚æ¬¡åŒ–çš„åŒºåŸŸç»“æ„ï¼Œè¿™äº›ç»“æ„å°±åŒ…å«ç€å¯èƒ½éœ€è¦çš„ç‰©ä½“ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒSelective Search æ–¹æ³•ç”¨äºç”Ÿæˆå€™é€‰æ¡†ã€‚ å¯¹æ¯ä¸ªå€™é€‰åŒºåŸŸï¼Œä½¿ç”¨æ·±åº¦ç½‘ç»œæå–ç‰¹å¾åï¼Œå°† 2000 ä¸ªå€™é€‰åŒºåŸŸåˆ†åˆ«ç¼©æ”¾åˆ° 227 * 227 çš„å¤§å°ï¼ˆAlexNet CNN çš„è¾“å…¥å¤§å°ï¼‰ï¼Œé€šè¿‡ CNN æå–ç‰¹å¾ã€‚è·å– 4096 ç»´çš„ç‰¹å¾ï¼Œå¾—åˆ° 2000 * 4096 ç»´ç‰¹å¾çŸ©é˜µï¼š ç„¶åå°†ç‰¹å¾é€å…¥æ¯ä¸€ç±»çš„SVMåˆ†ç±»å™¨æ¥åˆ¤å®šç±»åˆ«ï¼Œå°† 2000 * 4096 ç»´ç‰¹å¾ä¸ 20 ä¸ªSVMï¼ˆPascal VOC æœ‰ 20 ä¸ªç±»åˆ«ï¼‰ç»„æˆçš„æƒå€¼çŸ©é˜µ 4096 * 20 ç›¸ä¹˜ï¼Œè·å¾— 2000 * 20 ç»´çŸ©é˜µè¡¨ç¤ºæ¯ä¸€ä¸ªå»ºè®®æ¡†æ˜¯æŸä¸ªç›®æ ‡ç±»åˆ«çš„å¾—åˆ†ï¼Œå³åœ¨çŸ©é˜µä¸­ [i, j] è¡¨ç¤ºç¬¬ i ä¸ªå»ºè®®æ¡†ä¸­æ˜¯ç¬¬ j ç±»çš„æ¦‚ç‡å¤§å°ã€‚ åˆ†åˆ«å¯¹ä¸Šè¿° 2000 * 20 ç»´çŸ©é˜µä¸­æ¯ä¸€åˆ—å³æ¯ä¸€ç±»è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶æå‡ºé‡å å»ºè®®æ¡†ï¼Œå¾—åˆ°è¯¥åˆ—ï¼ˆå³è¯¥ç±»ä¸­ï¼‰å¾—åˆ†æœ€é«˜çš„ä¸€äº›å»ºè®®æ¡†ã€‚ ä½¿ç”¨å›å½’å™¨ç²¾ç»†ä¿®æ­£å€™é€‰æ¡†ä½ç½®ï¼Œåˆ†åˆ«ç”¨ 20 ä¸ªå›å½’å™¨å¯¹ä¸Šè¿° 20 ä¸ªç±»åˆ«ä¸­å‰©ä½™çš„å»ºè®®æ¡†è¿›è¡Œå›å½’æ“ä½œï¼Œæœ€ç»ˆå¾—åˆ°æ¯ä¸ªç±»åˆ«çš„ä¿®æ­£åå¾—åˆ†æœ€é«˜çš„ bounding boxã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé»„è‰²çª—å£ P è¡¨ç¤ºå»ºè®®æ¡† Region Proposalï¼Œç»¿è‰²çª—å£ G è¡¨ç¤ºå®é™…æ¡†Ground Truthï¼Œçº¢è‰²çª—å£ G^ è¡¨ç¤º Region Proposal è¿›è¡Œå›å½’åçš„é¢„æµ‹çª—å£ã€‚ Fast-RCNN ç®—æ³•æµç¨‹å…·ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š SPPNet / ROI pooling layeråœ¨ RCNN çš„åŸºç¡€ä¸Šå¯¹äºæå–ç‰¹å¾çš„æ­¥éª¤åšäº†æ”¹è¿›ï¼š å°†æ•´ä¸ªå›¾åƒè¾“å…¥åˆ° CNN ä¸­å¾—åˆ°ç‰¹å¾å›¾ï¼Œå†å°† Selective Search æ–¹æ³•å¾—åˆ°çš„å€™é€‰æ¡†æŠ•å½±åˆ°ç‰¹å¾å›¾ä¸Šï¼Œå¾—åˆ°ç‰¹å¾çŸ©é˜µ å³ SPPNetï¼Œä¸ RCNN çš„å¯¹æ¯”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ ¹æ®æ¯ä¸ªå€™é€‰åŒºåŸŸåŸå›¾ä¸ç‰¹å¾å›¾çš„æ˜ å°„å…³ç³»ï¼Œå°±èƒ½åœ¨ç‰¹å¾å›¾ä¸­ç›´æ¥è·å–ç‰¹å¾çŸ©é˜µï¼Œè¿™äº›å€™é€‰åŒºåŸŸçš„ç‰¹å¾ä¸éœ€è¦å†é‡å¤è®¡ç®—ã€‚ å¯¹äºå€™é€‰åŒºåŸŸçš„ size å„å¼‚çš„é™åˆ¶ï¼ŒRCNN é€šè¿‡å¯¹å€™é€‰åŒºåŸŸåšå˜æ¢å¾—åˆ°ï¼Œå³æ”¾ç¼©ï¼Œåœ¨ SPPNet ä¸­ç”± spatial pyramid pooling è§£å†³ï¼Œå°†åŸå§‹ç½‘ç»œä¸­æœ€åä¸€ä¸ªæ± åŒ–å±‚æ”¹è¿›æˆäº†ç©ºé—´é‡‘å­—å¡”æ± åŒ–å±‚ï¼Œå®ƒå¯ä»¥å°†ä»»æ„å°ºå¯¸çš„ç‰¹å¾å›¾è½¬åŒ–ä¸ºå›ºå®šå¤§å°çš„ç‰¹å¾å‘é‡ä»è€Œä¸åŒå°ºå¯¸çš„å€™é€‰åŒºåŸŸçš„ä¸åŒå¤§å°ç‰¹å¾å›¾æ ·åˆ‡ç‰‡ä¹Ÿå¯ä»¥è½¬åŒ–æˆç›¸åŒå¤§å°çš„ç‰¹å¾å‘é‡ä»¥è¿›è¡Œåç»­åˆ¤å†³ï¼š softmax åˆ†ç±»å™¨è¾“å‡º N+1 ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼ˆç›®æ ‡æ€»ç±»åˆ« + èƒŒæ™¯ï¼‰ï¼Œå…± N+1 ä¸ªèŠ‚ç‚¹ï¼š bbox regressor è¾¹ç•Œæ¡†å›å½’å™¨è¾“å‡ºå¯¹åº” N+1 ä¸ªç±»åˆ«çš„å€™é€‰è¾¹ç•Œæ¡†å›å½’å‚æ•°ï¼ˆdx, dy, dw, dhï¼‰ï¼Œå…± ï¼ˆN+1ï¼‰ * 4 ä¸ªèŠ‚ç‚¹ï¼š åˆ©ç”¨å›å½’å¾—åˆ°çš„å‚æ•°å¾—åˆ°è¾¹ç•Œæ¡†ï¼š Faster-RCNN ç®—æ³•æµç¨‹ å°†å›¾åƒè¾“å…¥ç½‘ç»œå¾—åˆ°ç›¸åº”çš„ç‰¹å¾å›¾ï¼› ä½¿ç”¨ RPN ç»“æ„ç”Ÿæˆå€™é€‰æ¡†ï¼Œå°† RPN ç”Ÿæˆçš„å€™é€‰æ¡†æŠ•å½±åˆ°ç‰¹å¾å›¾ä¸Šè·å¾—ç›¸åº”çš„ç‰¹å¾çŸ©é˜µï¼› å°†æ¯ä¸ªç‰¹å¾çŸ©é˜µé€šè¿‡ ROI(Region of Interest) pooling å±‚ç¼©æ”¾åˆ° 7x7 å¤§å°çš„ç‰¹å¾å›¾ï¼Œæ¥ç€å°†ç‰¹å¾å›¾å±•å¹³é€šè¿‡ä¸€ç³»åˆ—å…¨è¿æ¥å±‚å¾—åˆ°é¢„æµ‹ç»“æœã€‚ Faster-RCNN å¯ä»¥ç†è§£ä¸º RPN + Fast-RCNNï¼Œå³åŠéƒ¨åˆ†å³ä¸º Fast-RCNNã€‚ RPN RPNï¼Œå…¨ç§°ä¸º Region Proposal Networkï¼ŒRegion Proposal ä¸ºåŒºåŸŸæå–ï¼ŒRPN å°±æ˜¯ç”¨æ¥æå–å€™é€‰æ¡†çš„ç½‘ç»œ åˆ©ç”¨æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œæ¥è®¡ç®—åˆå§‹çš„å€™é€‰åŒºåŸŸï¼Œä¸€ä¸ªç‰¹å¾å›¾é€šè¿‡æ»‘åŠ¨çª—å£ï¼Œå¾—åˆ°256 ç»´ç‰¹å¾ï¼Œå…¶ä¸­ä¸€ä¸ª grid ç”Ÿæˆ k ä¸ª anchor boxesï¼Œé€šè¿‡ä¸¤æ¬¡å…¨è¿æ¥å¾—åˆ° 2k ä¸ªåˆ†æ•°å’Œ 4k ä¸ªåæ ‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…¶ä¸­ cls ä»£è¡¨ç±»åˆ«é¢„æµ‹ï¼Œåˆ†åˆ«é¢„æµ‹èƒŒæ™¯æ¦‚ç‡å’Œå‰æ™¯æ¦‚ç‡ï¼Œå‰æ™¯æ¦‚ç‡å³ä¸ºåŒºåŸŸä¸­æ˜¯å¦å¸¦æœ‰å¯¹è±¡çš„æ¦‚ç‡ï¼Œå¯ä»¥è§†ä½œäºŒåˆ†ç±»é—®é¢˜ï¼Œè€Œ reg åˆ™ä¸º k ä¸ª boxes çš„å››ä¸ªå‚æ•°çš„é¢„æµ‹ï¼Œåˆ†åˆ«ä¸ºï¼šä¸­å¿ƒç‚¹åæ ‡å’Œå®½é«˜ã€‚ åœ¨è®ºæ–‡ä¸­æå‡ºäº†ä¸‰ç§å°ºåº¦ï¼ˆï¼‰å’Œä¸‰ç§æ¯”ä¾‹ä½œä¸º anchorï¼Œæ¯ä¸ªä½ç½®åœ¨åŸå›¾ä¸Šéƒ½å¯¹äºæœ‰ 9 ä¸ª anchorï¼Œå¯¹äº RPN ç”Ÿæˆçš„å€™é€‰æ¡†ä¹‹é—´å­˜åœ¨å¤§é‡é‡å ï¼ŒåŸºäºå€™é€‰æ¡†çš„ cls å¾—åˆ†ï¼Œé‡‡ç”¨éæå¤§æŠ‘åˆ¶ç­›é€‰å€™é€‰æ¡†ã€‚æœ€åå¯¹åº”äºåŸå›¾çš„å€™é€‰æ¡†ç”Ÿæˆç»“æœå¯ä»¥ç”±ä¸‹å›¾ç®€ç•¥æ¦‚æ‹¬ï¼š RPN çš„è¾“å…¥ç‰¹å¾å›¾æŒ‡çš„æ˜¯å“ªä¸ªç‰¹å¾å›¾ï¼Ÿ RPN çš„è¾“å…¥ç‰¹å¾å›¾å°±æ˜¯ Faster-RCNN ä¸­çš„å…¬å…± feature mapï¼Œä¸»è¦ç”¨ä»¥ RPN å’Œ RoI Pooling å…±äº«ã€‚ æŸå¤±å‡½æ•° å…¶ä¸­ï¼Œp è¡¨ç¤ºçš„æ˜¯ anchor ä¸ºä¸€ä¸ª object çš„æ¦‚ç‡ï¼Œp* ä¸º 1 æ—¶åˆ™è¡¨ç¤ºè¯¥ anchor ä¸ºæ­£æ ·æœ¬ï¼ˆpositiveï¼‰ï¼Œåä¹‹ï¼Œåˆ™ä¸ºè´Ÿæ ·æœ¬ï¼ˆnegativeï¼‰ã€‚ åˆ¤æ–­ anchor æ˜¯å¦ä¸ºæ­£æ ·æœ¬ï¼š ä¸ Grounding Truth çš„é‡å åŒºåŸŸ IoU è¶…è¿‡ 0.7 ä¸ºäº†é˜²æ­¢æ¡ä»¶ 1 ç­›é€‰è¿‡åä¸å­˜åœ¨æ­£æ ·æœ¬ï¼Œæ•…ä½¿ IoU æœ€å¤§çš„ anchor ä¹Ÿä¸ºæ­£æ ·æœ¬ Training RPNs RPN é€šè¿‡åå‘ä¼ æ’­å’Œéšæœºæ¢¯åº¦ä¸‹é™æ³•è¿›è¡Œç«¯åˆ°ç«¯çš„è®­ç»ƒ éšæœºä»ä¸€å¼ å›¾ç‰‡ä¸­é‡‡æ · 256 ä¸ª anchorsï¼Œè®¡ç®—ä¸€ä¸ª mini-batch çš„æŸå¤±å‡½æ•° é‡‡æ ·çš„ positive anchors å’Œ negative anchors çš„æ¯”ä¾‹æ˜¯ 1 : 1ï¼Œè‹¥æ­£æ ·æœ¬å°‘äº 128ï¼Œåˆ™ä»è´Ÿæ ·æœ¬ä¸­é‡‡æ ·å¡«å…… æ‰€æœ‰å±‚é€šè¿‡ ImageNet é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œåˆå§‹åŒ– Sharing Features for RPN and Fast R-CNN è¿™ä¸€ä¸ªåœ°æ–¹çœ‹å¾—ä¸æ˜¯å¾ˆæ‡‚â€¦ RPNå’ŒFast R-CNNå…±äº«ç‰¹å¾ï¼Œè®ºæ–‡ä¸­é‡‡ç”¨çš„æ˜¯ï¼šAlternating trainingï¼š é¦–å…ˆè®­ç»ƒ RPN å±‚ï¼Œç„¶åç”¨æ‰€å¾—åˆ°çš„ proposals æ¥è®­ç»ƒ Fast-RCNNï¼ˆæ­¤æ—¶è®¾ç½® RPNå±‚ä¸æ›´æ–°ï¼‰ï¼Œç„¶åå¾—åˆ°çš„ Fast-RCNNï¼Œå†æ¥åˆå§‹åŒ–å¹¶è®­ç»ƒ RPN å±‚ï¼Œç„¶åå†è¿­ä»£å¾€å¤ã€‚ ç›®çš„ï¼šä¸ºäº†ä½¿ä¸¤ä¸ªä¸åŒä»»åŠ¡èƒ½å¤Ÿå…±äº«å·ç§¯å±‚ã€‚ å…·ä½“è®­ç»ƒç»†èŠ‚ï¼š è®­ç»ƒ RPNï¼Œä½¿ç”¨ ImageNet é¢„è®­ç»ƒæƒé‡ï¼Œå¹¶ä¸”åœ¨ region proposal ä»»åŠ¡ä¸Šè¿›è¡Œè®­ç»ƒå¾®è°ƒ ä½¿ç”¨ç”Ÿæˆçš„ region proposal åœ¨ Fast R-CNN ä¸Šè¿›è¡Œè®­ç»ƒï¼ŒåŒæ„ä½¿ç”¨ ImageNet é¢„è®­ç»ƒæƒé‡ ä½¿ç”¨æ‰€è®­ç»ƒçš„ç›®æ ‡æ£€æµ‹ç½‘ç»œï¼ˆFast R-CNNï¼‰æ¥åˆå§‹åŒ– RPN è®­ç»ƒæƒé‡ï¼Œä½†å›ºå®šå…±äº«çš„å·ç§¯å±‚ï¼Œä»…å¾®è°ƒ RPN ç‹¬æœ‰çš„å±‚ è®©å…±äº«çš„å·ç§¯å±‚ç»§ç»­å›ºå®šï¼Œè®­ç»ƒå¾®è°ƒ Fast R-CNN ç‹¬æœ‰çš„å±‚ ç°åœ¨æ˜¯ 2023/05/29 22ï¼š38ï¼Œçœ‹ä»£ç çœ‹å¾—æœ‰ç‚¹æ˜ï¼Œèµ°å’¯èµ°å’¯ï¼Œä¸‹ç­â€¦ git push ä¸€å“ˆğŸ¤¦â€â™‚ï¸","categories":[{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"https://ytz7.github.io/categories/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"Object-Detection","slug":"Object-Detection","permalink":"https://ytz7.github.io/tags/Object-Detection/"}]},{"title":"2023 å¹´ä¸‹åŠå¹´è®¡åˆ’","slug":"learning-plan-2023secondhalf","date":"2023-05-24T05:48:14.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/68092092.html","link":"","permalink":"https://ytz7.github.io/posts/68092092.html","excerpt":"","text":"æ‰“ç®—åšåŠç›‘ç£ç›®æ ‡æ£€æµ‹æ–¹å‘ï¼Œç†æ¸…ä»¥ä¸‹ä¸‹åŠå¹´çš„è®¡åˆ’ï¼Œè¯¥å­¦ä¹ ä»€ä¹ˆï¼Œè¯¥æ€æ ·å­¦ä¹ ï¼Œä¸ç„¶åƒä¸ªæ— å¤´è‹è‡ä¸€æ ·å››å¤„ä¹±æ’â€¦ å®šä¸€ä¸ªè®¡åˆ’æŠŠï¼Œçœ‹çœ‹è‡ªå·±æ˜¯å¦èƒ½å¤ŸåšæŒä¸‹æ¥ï¼Œå­¦å®Œä¸€ç¯‡å°±åœ¨è¿™è¾¹æ‰“å¡ï¼Œä½†æˆ‘ä¸çŸ¥é“è¿™æ ·å­åšä¼šä¸ä¼šå¤ªæ…¢ï¼Ÿâ€¦ ä¸è¿‡è¿˜æ˜¯è¦å¤„ç†ä¸€ä¸‹å‰å‡ å¤©çœ‹çš„ FixMatch çš„ä»£ç ç»†èŠ‚è¿˜æ²¡çœ‹å®Œï¼Œå…ˆæŠŠè¿™ä¸ªä¸œè¥¿æ”¶å°¾æ”¶æ‰æŠŠã€‚ 2023-05-24 è®°å½•ï¼šFixMatch ä»£ç æ”¶å°¾ç»“æŸï¼Œæœç„¶çœ‹ä»£ç å¯¹äº Coding ä¹Ÿä¼šæœ‰äº›å¸®åŠ©ï¼Œå°¤å…¶æ˜¯åœ¨ä¸Šæ¬¡çœ‹å®Œ YOLOv3 çš„ä»£ç ä¹‹åï¼Œä¹‹å‰æ„Ÿè§‰è¿˜æŒºå®³æ€•çœ‹ä»£ç çš„â€¦ Psï¼š chatGPT çœŸå¥½ç”¨ğŸ¤— Coding èƒ½åŠ›æ„Ÿè§‰è‡ªå·±çš„ Python åŸºç¡€ç›¸å½“çš„å·®å•Šï¼Œå¯¹ Pytorch ä¹Ÿä¸è¿™ä¹ˆç†Ÿæ‚‰ï¼Œæˆ–è€…è¯´åªä¼šçœ‹ä»£ç å’Œè¿è¡Œåˆ«äººçš„ä»£ç ğŸ¤¦â€â™‚ï¸ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜å‘¢ï¼Ÿ éœ¹é›³å§å•¦Wzçš„ä¸ªäººç©ºé—´_å“”å“©å“”å“©_bilibili å­¦ä¹ è¿™ä¸ªåšä¸»å…³äºå›¾åƒåˆ†ç±»æ–¹é¢çš„ä»£ç ï¼Œå°½é‡è¦è¯•ç€é˜…è¯»å’Œæ‰‹å†™ä»£ç  ç›®æ ‡æ£€æµ‹æ–¹é¢å¯¹äºç›®æ ‡æ£€æµ‹çš„åŸºç¡€åªæ˜¯è¿˜æ˜¯éœ€è¦äº†è§£çš„ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªåšä¸»çš„è§†é¢‘å­¦ä¹ ï¼Œä¹Ÿæ˜¯èƒ½é˜…è¯»ä»£ç å°±é˜…è¯»ä»£ç ï¼Œï¼ˆæ‰‹å†™ä»£ç ï¼‰ Bubbliiiingçš„ä¸ªäººç©ºé—´_å“”å“©å“”å“©_bilibili åŠç›‘ç£ç›®æ ‡æ£€æµ‹æ–¹å‘ä¸€æ–‡æ¢³ç†ç›®æ ‡æ£€æµ‹çš„åŠç›‘ç£å­¦ä¹  (qq.com) é¦–å…ˆè‚¯å®šæ˜¯äº†è§£å…ˆå‰çš„ç›¸å…³ç»å…¸è®ºæ–‡ï¼Œä¸è¿‡ä¸éœ€è¦ç²¾è¯»ï¼Œéœ€è¦ç²¾åº¦çš„æ˜¯è¿™ä¸¤å¹´ä»¥å†…çš„è®ºæ–‡ï¼Œç„¶åå†å»å¤ç°è®ºæ–‡ã€‚","categories":[{"name":"å­¦ä¹ è®¡åˆ’","slug":"å­¦ä¹ è®¡åˆ’","permalink":"https://ytz7.github.io/categories/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/"}],"tags":[]},{"title":"Pytorch å­¦ä¹ ","slug":"pytorch-learning","date":"2023-05-22T14:05:21.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/9f542fbf.html","link":"","permalink":"https://ytz7.github.io/posts/9f542fbf.html","excerpt":"","text":"å¥½ä¹…æ²¡æœ‰å†™ pythonäº†ï¼Œå¯¹äº pytorch çš„è¯­æ³•ä»€ä¹ˆçš„éƒ½å¿˜å…‰å…‰äº†ï¼Œå†™ç€ä¸€ç¯‡åšå®¢æ¥è®°å½•æˆ‘å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä»¥åŠé€”ä¸­é‡åˆ°çš„ bug å’Œè§£å†³æ–¹æ³•ï¼Œå¸Œæœ›æˆ‘çš„ coding èƒ½åŠ›èƒ½å¤Ÿæœ‰æ‰€æå‡â€¦ ç¯å¢ƒå®‰è£…é…ç½®é—®é¢˜å®‰è£… CUDAï¼ˆLinux ç¯å¢ƒï¼‰æŸ¥çœ‹ CUDA çŠ¶æ€123&gt; # æŸ¥çœ‹ cuda&gt; naidia-smi&gt; nvcc -V conda create æ— æ³•ä½¿ç”¨è®°å½•ä¸€ä¸‹ conda create å‘½ä»¤æ— æ³•ä½¿ç”¨çš„é—®é¢˜ï¼š åŸå› åœ¨äºé…ç½®æ–‡ä»¶å¥½åƒè§£æä¸äº†ï¼Œäºæ˜¯å°†é…ç½®æ–‡ä»¶ .condarc ä¸­çš„å†…å®¹æ›¿æ¢ä¸ºï¼š 123456789101112131415161718channels: - defaultsshow_channel_urls: truechannel_alias: https://mirrors.tuna.tsinghua.edu.cn/anacondadefault_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2custom_channels: conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloudssl_verify: true æ›´æ”¹å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®Œæˆé…ç½®çš„æ›´æ–°ï¼š 1conda config --set show_channel_urls yes Linux ä¸­ bash æ‰§è¡Œ .sh æ–‡ä»¶å½“å‡ºç° $'\\r': command not foundï¼Œæ˜¯å› ä¸º Windows å’Œ Linux çš„ sh ä¸€äº›æ–‡ä»¶æ ¼å¼ä¸åŒï¼š ä»¥æ¢è¡Œä¸ºä¾‹ï¼ŒWindows ä¸­æ˜¯ \\r\\nï¼Œè€Œ Linux ä¸­åˆ™æ˜¯ \\nï¼Œæ‰€ä»¥æ‰ä¼šæŠ¥ \\râ€™: command not found å¦‚ä½•è§£å†³ï¼Ÿ 123456&gt; # åˆ©ç”¨ vi æ‰“å¼€æ–‡ä»¶ xx.sh&gt; # æ‰“å¼€åˆ†åˆ«è¾“å…¥æŒ‡ä»¤&gt; # æ¢è¡Œç¬¦è½¬æ¢&gt; :set ff=unix&gt; # ä¿å­˜é€€å‡º&gt; :wq å®‰è£… Pytorchå°±æ‹¿æœ€è¿‘çœ‹çš„è®ºæ–‡ FixMatch çš„ç¯å¢ƒå¤±æ‰‹ï¼Œä»£ç éœ€è¦ï¼š python 3.6+ torch 1.4 torchvision 0.5 tensorboard numpy tqdm apex (optional) åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ fixmatchï¼Œè¿™é‡Œæˆ‘é€‰æ‹© python ç‰ˆæœ¬ä¸º 3.7ï¼š 12conda create -n fixmatch python=3.7conda activate fixmatch è®¿é—® Pytorch çš„å®˜ç½‘é€‰æ‹©å¯¹åº”ç‰ˆæœ¬çš„ torch å’Œ torchvision å³å¯ï¼š Previous PyTorch Versions | PyTorch ä¸‹è½½ torch==1.4.0 å’Œtorchvision==0.5.0ï¼Œè¿™é‡Œéœ€è¦åŠ ä¸Šåç¼€ -f https://download.pytorch.org/whl/torch_stable.htmlï¼Œå› ä¸ºé…ç½®ä¸‹è½½æºä¸ºæ¸…åæºï¼Œå¥½åƒåœ¨æ¸…åæºä¸­æ‰¾ä¸åˆ°è¿™ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥ä»¥åéƒ½ç›´æ¥ä» Pytorch å®˜ç½‘ä¸‹è½½å³å¯ï¼š 123pip install torch==1.4.0 torchvision==0.5.0 -f https://download.pytorch.org/whl/torch_stable.htmlpip install tensorboardpip install tqdm æµ‹è¯•æ˜¯å¦å¯ä»¥ä½¿ç”¨ï¼ŒåŠ å…¥ python ç¯å¢ƒï¼Œæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯å°±ç®—å®‰è£…æˆåŠŸï¼š 12345&gt;&gt;&gt; import torch&gt;&gt;&gt; torch.cuda.is_available()True&gt;&gt;&gt; torch.__version__'1.4.0+cu92' å®‰è£… Pytorch å’Œ mmdetectionå­¦ä¹ è¿‡ç¨‹torch å‡½æ•°ä½¿ç”¨torch.manual_seed()åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå‚æ•°é»˜è®¤æ˜¯è¿›è¡Œéšæœºåˆå§‹åŒ–çš„ã€‚å¦‚æœä¸è®¾ç½®çš„è¯æ¯æ¬¡è®­ç»ƒæ—¶çš„åˆå§‹åŒ–éƒ½æ˜¯éšæœºçš„ï¼Œå¯¼è‡´ç»“æœä¸ç¡®å®šã€‚ å¦‚æœè®¾ç½®åˆå§‹åŒ–ï¼Œåˆ™æ¯æ¬¡åˆå§‹åŒ–éƒ½æ˜¯å›ºå®šçš„ã€‚ å®é™…ä¸Šï¼Œè®¡ç®—æœºå¹¶ä¸èƒ½äº§ç”ŸçœŸæ­£çš„éšæœºæ•°ï¼Œè€Œæ˜¯å·²ç»ç¼–å†™å¥½çš„ä¸€äº›æ— è§„åˆ™æ’åˆ—çš„æ•°å­—å­˜å‚¨åœ¨ç”µè„‘é‡Œï¼ŒæŠŠè¿™äº›æ•°å­—åˆ’åˆ†ä¸ºè‹¥å¹²ç›¸ç­‰çš„ N ä»½ï¼Œå¹¶ä¸ºæ¯ä»½åŠ ä¸Šä¸€ä¸ªç¼–å·ï¼Œç¼–å·å›ºå®šçš„æ—¶å€™ï¼Œè·å¾—çš„éšæœºæ•°ä¹Ÿæ˜¯å›ºå®šçš„ã€‚ torch.manual_seed(1) ç”¨äºè®¾ç½®éšæœºåˆå§‹åŒ–çš„ç§å­ï¼Œå³ä¸Šè¿°çš„ç¼–å·ï¼Œç¼–å·å›ºå®šï¼Œæ¯æ¬¡è·å–çš„éšæœºæ•°å›ºå®šã€‚ 1234567if args.seed is not None: random.seed(args.seed) torch.manual_seed(args.seed) #ä¸ºCPUè®¾ç½®ç§å­ç”¨äºç”Ÿæˆéšæœºæ•°ï¼Œä»¥ä½¿ç»“æœæ˜¯ç¡®å®šçš„ torch.cuda.manual_seed(args.seed) #ä¸ºå½“å‰GPUè®¾ç½®éšæœºç§å­ï¼› cudnn.deterministic = True # å¦‚æœä½¿ç”¨å¤šä¸ªGPUï¼Œåº”è¯¥ä½¿ç”¨torch.cuda.manual_seed_all()ä¸ºæ‰€æœ‰çš„GPUè®¾ç½®ç§å­ã€‚ torch.distributed.barrier()è¿™æ˜¯ç¤ºä¾‹ä»£ç ï¼š 12345678if args.local_rank not in [-1, 0]: torch.distributed.barrier() labeled_dataset, unlabeled_dataset, test_dataset = DATASET_GETTERS[args.dataset]( args, './data')if args.local_rank == 0: torch.distributed.barrier() å…³äºå‚æ•° local_rank çš„ç†è§£ï¼š åœ¨ä½¿ç”¨å¤šè¿›ç¨‹å¤„ç†ä»»åŠ¡æ—¶ï¼Œåœ¨ Python ä¸­é€šå¸¸è®¾ç½®ç­‰çº§ 0 æ˜¯ç¬¬ä¸€ä¸ªè¿›ç¨‹æˆ–åŸºæœ¬è¿›ç¨‹ï¼Œç„¶åå¯¹å…¶ä»–è¿›ç¨‹è¿›è¡Œä¸åŒçš„æ’åºï¼Œä¾‹å¦‚ 1ã€2ã€3 åŠ ä¸ŠåŸºæœ¬è¿›ç¨‹ 0ï¼Œæ€»å…± 4 ä¸ªè¿›ç¨‹ã€‚ ä½¿ç”¨å•è¿›ç¨‹æ—¶ï¼Œå¾€å¾€ä¼šè®¾ç½®è¿›ç¨‹å·ä¸º -1ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå½“ local_rank ä¸º 0/-1 æ—¶ï¼Œè®¤ä¸ºå®ƒæ˜¯ä¸»è¿›ç¨‹ã€‚ å¯¹äºå¤šè¿›ç¨‹ä»»åŠ¡ï¼Œå¾€å¾€åªéœ€è¦ä¸€ä¸ªè¿›ç¨‹é¢„å¤„ç†æ•°æ®æˆ–è€…è¯»å–æ•°æ®ï¼Œè€Œä¸ºäº†ä¸å…¶ä»–è¿›ç¨‹å…±äº«æ•°æ®ï¼Œéœ€è¦åœ¨ä¸»è¿›ç¨‹å¤„ç†æ•°æ®çš„æ—¶å€™è®©å…¶ä»–è¿›ç¨‹å…¨éƒ¨åœä¸‹æ¥ç­‰å¾…ã€‚ ä¸Šè¿°çš„ä»£ç ç¤ºä¾‹ï¼Œå®é™…çš„åŠŸèƒ½å¦‚ä¸‹ï¼š 12345678910111213# è¯¢é—®å½“å‰è¿›ç¨‹æ˜¯å¦ä¸ºä¸»è¿›ç¨‹if args.local_rank not in [-1, 0]: # ä¸æ˜¯ä¸»è¿›ç¨‹ï¼Œé˜»å¡ # è®©è¯¥è¿›ç¨‹åŠ å…¥ barrier() torch.distributed.barrier() # ä¸»è¿›ç¨‹è¯»å–æ•°æ®labeled_dataset, unlabeled_dataset, test_dataset = DATASET_GETTERS[args.dataset]( args, './data')# ä¸»è¿›ç¨‹è¯»å–æ•°æ®å®Œæ¯•ï¼Œä¸»è¿›ç¨‹åŠ å…¥ barrier()if args.local_rank == 0: torch.distributed.barrier() å½“æ‰€æœ‰çš„è¿›ç¨‹éƒ½è¿›å…¥äº† barrier() åï¼ŒPytorch å°±ä¼šæ‰“å¼€æ‰€æœ‰çš„ barrier()ï¼Œæ‰€æœ‰çš„è¿›ç¨‹éƒ½å¯ä»¥ç»§ç»­è¿›è¡Œç›¸å…³æ“ä½œã€‚ å½“éœ€è¦è¿›è¡Œé˜»å¡æ“ä½œæ—¶ï¼Œæ¨¡æ¿å³ä¸ºï¼š 1234567891011if args.local_rank not in [-1, 0]: torch.distributed.barrier()'''ä¸»è¿›ç¨‹è¿›è¡Œæ“ä½œ'''.........if args.local_rank == 0: torch.distributed.barrier() æ€»ç»“ï¼š å½“è¿›ç¨‹é‡åˆ°éšœç¢æ—¶ï¼Œå®ƒå°†é˜»å¡ å±éšœçš„ä½ç½®å¹¶ä¸é‡è¦ï¼ˆä¾‹å¦‚ï¼Œå¹¶éæ‰€æœ‰è¿›ç¨‹éƒ½å¿…é¡»è¾“å…¥ç›¸åŒçš„ if è¯­å¥ï¼‰ ä¸€ä¸ªè¿›ç¨‹è¢«ä¸€ä¸ªå±éšœé˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰è¿›ç¨‹éƒ½é‡åˆ°ä¸€ä¸ªå±éšœï¼Œåœ¨è¿™ä¸ªå±éšœä¸Šä¸ºæ‰€æœ‰è¿›ç¨‹è§£é™¤è¿™äº›å±éšœ model.named_parameters()model.named_parameters() å°†ä¼šæ‰“å°æ¯ä¸€æ¬¡è¿­ä»£å…ƒç´ çš„åå­—å’Œ paramï¼š 1234model = DarkNet([1, 2, 8, 8, 4])for name, param in model.named_parameters(): print(name,param.requires_grad) param.requires_grad = False 12345678910111213141516171819conv1.weight Truebn1.weight Truebn1.bias Truelayer1.ds_conv.weight Truelayer1.ds_bn.weight Truelayer1.ds_bn.bias Truelayer1.residual_0.conv1.weight Truelayer1.residual_0.bn1.weight Truelayer1.residual_0.bn1.bias Truelayer1.residual_0.conv2.weight Truelayer1.residual_0.bn2.weight Truelayer1.residual_0.bn2.bias Truelayer2.ds_conv.weight Truelayer2.ds_bn.weight Truelayer2.ds_bn.bias Truelayer2.residual_0.conv1.weight Truelayer2.residual_0.bn1.weight Truelayer2.residual_0.bn1.bias True.... torch.nn.parallel.DistributedDataParallel1234567891011\"\"\"åœ¨åˆ†å¸ƒç¯å¢ƒä¸­å®ç°æ•°æ®å¹¶è¡Œè®­ç»ƒ torch.nn.parallel.DistributedDataParallel - model éœ€è¦è¿›è¡Œæ•°æ®å¹¶è¡Œè®­ç»ƒçš„æ¨¡å‹å¯¹è±¡ - device_ids=[args.local_rank] æŒ‡å®šåœ¨å“ªäº›è®¾å¤‡ä¸Šè¿›è¡Œæ•°æ®å¹¶è¡Œè®­ç»ƒ - output_device=args.local_rank æŒ‡å®šè¾“å‡ºçš„è®¾å¤‡ - find_unused_parameters=True æŒ‡å®šæ˜¯å¦æŸ¥æ‰¾æœªä½¿ç”¨çš„å‚æ•°ã€‚ å½“æ¨¡å‹å…·æœ‰ä¸åŒåˆ†æ”¯æˆ–å­æ¨¡å—å…·æœ‰ä¸åŒè¾“å…¥å½¢çŠ¶æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°æœªä½¿ç”¨çš„å‚æ•°ã€‚\"\"\"model = torch.nn.parallel.DistributedDataParallel( model, device_ids=[args.local_rank], output_device=args.local_rank, find_unused_parameters=True) tensor.chunk().chunk()æ˜¯PyTorchå¼ é‡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†å¼ é‡æ²¿ç€æŒ‡å®šç»´åº¦è¿›è¡Œå‡åŒ€åˆ‡åˆ†æˆå¤šä¸ªå­å¼ é‡ã€‚ å…·ä½“æ¥è¯´ï¼Œ.chunk()çš„åŠŸèƒ½å¦‚ä¸‹ï¼š è¯­æ³•ï¼šchunk(chunks, dim=0) å‚æ•°ï¼š chunksï¼šè¡¨ç¤ºè¦åˆ‡åˆ†çš„å—æ•°ã€‚ dimï¼šè¡¨ç¤ºè¦åœ¨å“ªä¸ªç»´åº¦ä¸Šè¿›è¡Œåˆ‡åˆ†ï¼Œé»˜è®¤ä¸º0ï¼ˆç¬¬ä¸€ä¸ªç»´åº¦ï¼‰ã€‚ è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«åˆ‡åˆ†åçš„å­å¼ é‡ã€‚ .chunk()æ–¹æ³•ä¼šå°†åŸå§‹å¼ é‡æ²¿ç€æŒ‡å®šç»´åº¦è¿›è¡Œå‡åŒ€åˆ‡åˆ†ï¼Œæ¯ä¸ªå­å¼ é‡çš„å¤§å°ç›¸ç­‰ï¼ˆé™¤éåŸå§‹å¼ é‡çš„å¤§å°æ— æ³•è¢«æ•´é™¤ï¼‰ã€‚è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­åŒ…å«åˆ‡åˆ†åçš„å­å¼ é‡ã€‚ 1logits_u_w, logits_u_s = logits[batch_size:].chunk(2) åœ¨ç»™å®šçš„ä»£ç ä¸­ï¼Œlogits[batch_size:].chunk(2)å°†å¼ é‡logitsä»ç´¢å¼•batch_sizeå¼€å§‹åˆ‡åˆ†æˆä¸¤ä¸ªå­å¼ é‡ã€‚è¿™æ ·å¯ä»¥å°†æ¨¡å‹è¾“å‡ºçš„ç»“æœåˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«èµ‹å€¼ç»™logits_u_wå’Œlogits_u_sã€‚ tensor.detach().detach()æ˜¯PyTorchå¼ é‡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œå…¶ä¸­åŒ…å«äº†åŸå§‹å¼ é‡çš„æ•°æ®ï¼Œä½†æ²¡æœ‰å»ºç«‹ä¸è®¡ç®—å›¾çš„è¿æ¥ã€‚ å…·ä½“æ¥è¯´ï¼Œ.detach()çš„åŠŸèƒ½å¦‚ä¸‹ï¼š .detach()ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œå…¶ä¸­åŒ…å«äº†åŸå§‹å¼ é‡çš„æ•°æ®ï¼Œä½†æ²¡æœ‰æ¢¯åº¦ä¿¡æ¯å’Œè®¡ç®—å›¾çš„è¿æ¥ã€‚è¿™æ„å‘³ç€é€šè¿‡.detach()å¾—åˆ°çš„å¼ é‡ä¸ä¼šå‚ä¸åå‘ä¼ æ’­è¿‡ç¨‹ï¼Œä¸ä¼šå¯¹æ¢¯åº¦è¿›è¡Œæ±‚å¯¼ã€‚ å¸¸è§çš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬ï¼š å½“ä½ åªå¯¹éƒ¨åˆ†å¼ é‡è¿›è¡Œæ¢¯åº¦è®¡ç®—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨.detach()å°†å…¶ä¸å…¶ä»–éœ€è¦æ¢¯åº¦çš„å¼ é‡åˆ†ç¦»ã€‚ å½“ä½ éœ€è¦åœ¨ä¸å½±å“åŸå§‹å¼ é‡æ¢¯åº¦çš„æƒ…å†µä¸‹ï¼Œå¯¹å¼ é‡è¿›è¡Œæ“ä½œæˆ–ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œ.detach()æ–¹æ³•å¯ä»¥ç”¨äºç”Ÿæˆä¸éœ€è¦æ¢¯åº¦çš„å¼ é‡ï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥æé«˜æ•ˆç‡å¹¶é¿å…æ¢¯åº¦ä¼ æ’­çš„å½±å“ã€‚ tensor.flatten(start_dim=1)x.flatten(start_dim=1) è¡¨ç¤ºå°† x æ²¿ç€ä» start_dim å¼€å§‹çš„æ‰€æœ‰ç»´åº¦æ‹‰å¹³æˆä¸€ä¸ªä¸€ç»´å¼ é‡ï¼Œè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„å¼ é‡ã€‚ å…·ä½“æ¥è¯´ï¼Œå‡è®¾ x çš„å½¢çŠ¶ä¸º (B, C, H, W)ï¼Œå…¶ä¸­ B è¡¨ç¤º batch sizeï¼ŒC è¡¨ç¤ºé€šé“æ•°ï¼ŒH è¡¨ç¤ºé«˜åº¦ï¼ŒW è¡¨ç¤ºå®½åº¦ï¼Œé‚£ä¹ˆ x.flatten(start_dim=1) çš„ç»“æœæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º (B, C*H*W) çš„å¼ é‡ï¼Œå³å°†é™¤äº† B ä»¥å¤–çš„æ‰€æœ‰ç»´åº¦éƒ½æ‹‰å¹³æˆä¸€ä¸ªç»´åº¦ã€‚ å¦‚æœ start_dim æ˜¯é»˜è®¤å€¼ 0ï¼Œåˆ™ç›¸å½“äºå°†æ•´ä¸ªå¼ é‡æ‹‰å¹³æˆä¸€ä¸ªä¸€ç»´å¼ é‡ï¼Œå³å½¢çŠ¶ä¸º (B*C*H*W,)ã€‚ å¦‚æœ start_dim æ˜¯ 2ï¼Œå‡è®¾ x çš„å½¢çŠ¶ä¸º (B, C, H, W)ï¼Œåˆ™è¡¨ç¤ºä»ç¬¬äºŒä¸ªç»´åº¦ C å¼€å§‹å°† x æ²¿ç€åé¢çš„ç»´åº¦æ‹‰å¹³æˆä¸€ä¸ªä¸€ç»´å¼ é‡ï¼Œè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º (B, C, H*W) çš„å¼ é‡ã€‚ å…·ä½“æ¥è¯´ï¼Œå¯¹äºæ¯ä¸ªæ ·æœ¬æ•°æ®ï¼Œå¼ é‡ä¸­ç¬¬äºŒä¸ªç»´åº¦ C ä¹‹åçš„æ‰€æœ‰ç»´åº¦éƒ½è¢«æ‹‰å¹³æˆä¸ºä¸€ä¸ªç»´åº¦ï¼Œè€Œå‰ä¸¤ä¸ªç»´åº¦ B å’Œ C ä¿æŒä¸å˜ï¼Œå› æ­¤ç»“æœçš„å½¢çŠ¶æ˜¯ (B, C, H*W)ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ x çš„å½¢çŠ¶æ˜¯ (2, 3, 4, 5)ï¼Œé‚£ä¹ˆ x.flatten(start_dim=2) çš„ç»“æœå°†æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º (2, 3, 20) çš„å¼ é‡ã€‚å…¶ä¸­ï¼Œç¬¬ 1 ä¸ªæ ·æœ¬çš„ç»´åº¦ä¸º (3, 4, 5)ï¼Œè¢«æ‹‰å¹³æˆäº† (3, 20)ï¼›ç¬¬ 2 ä¸ªæ ·æœ¬çš„ç»´åº¦ä¹Ÿæ˜¯ (3, 4, 5)ï¼Œè¢«æ‹‰å¹³æˆäº† (3, 20)ã€‚å› æ­¤ç»“æœçš„å½¢çŠ¶æ˜¯ (2, 3, 20)ã€‚ zip()Python ä¸­ä½¿ç”¨ zip() å‡½æ•°åŒæ—¶å¾ªç¯éå†å¤šä¸ªåˆ—è¡¨ï¼Œä¾‹å¦‚ï¼š for s, a in zip(self.sizes, self.aspect_ratios)ï¼Œ å…¶ä¸­ï¼š self.sizes æ˜¯ä¸€ä¸ªåŒ…å« 3 ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œå¯¹åº” 3 ä¸ªé¢„å®šä¹‰çš„å°ºåº¦ï¼ˆä»¥åƒç´ å€¼çš„å¹³æ–¹æ ¹ä¸ºåº¦é‡ï¼‰ sizes=(128, 256, 512) self.aspect_ratios æ˜¯ä¸€ä¸ªåŒ…å« 3 ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œå¯¹åº” 3 ç§é¢„å®šä¹‰çš„å®½é«˜æ¯” aspect_ratios=(0.5, 1.0, 2.0) zip(self.sizes, self.aspect_ratios) è¿”å›çš„æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæ¯æ¬¡è¿­ä»£ä¼šè¾“å‡º self.sizes å’Œ self.aspect_ratios ä¸­å¯¹åº”ä½ç½®çš„å…ƒç´ ï¼Œå³ (sâ‚, aâ‚), (sâ‚‚, aâ‚‚), ...ã€‚ model.parameters() å’Œ model.buffers()åœ¨ PyTorch ä¸­ï¼Œmodel.parameters()å’Œmodel.buffers()éƒ½æ˜¯ç”¨äºè·å–æ¨¡å‹ä¸­çš„å‚æ•°å’Œç¼“å†²åŒºçš„å‡½æ•°ï¼Œä½†æ˜¯å®ƒä»¬è·å–çš„å†…å®¹ä¸åŒã€‚ model.parameters()å‡½æ•°è¿”å›æ¨¡å‹ä¸­éœ€è¦è®­ç»ƒçš„å‚æ•°ã€‚è¿™äº›å‚æ•°é€šå¸¸å¯¹åº”ç€ç½‘ç»œçš„æƒé‡å’Œåç½®å€¼ï¼Œä»¥åŠå…¶ä»–å¯æ›´æ–°çš„å˜é‡ã€‚è°ƒç”¨model.parameters()å‡½æ•°é€šå¸¸ç”¨äºå®šä¹‰ä¼˜åŒ–å™¨ï¼Œä»è€Œåœ¨è®­ç»ƒç½‘ç»œæ—¶æ›´æ–°è¿™äº›å‚æ•°ã€‚ model.buffers()å‡½æ•°è¿”å›æ¨¡å‹ä¸­æ‰€æœ‰ä¸éœ€è¦è®­ç»ƒçš„ç¼“å†²åŒºï¼Œæ¯”å¦‚BNå±‚å’Œç§»åŠ¨å¹³å‡å±‚çš„ç§»åŠ¨å¹³å‡å€¼å’Œæ–¹å·®ã€‚ç¼“å†²åŒºä¹Ÿéœ€è¦åœ¨æ¨¡å‹å®šä¹‰æ—¶è¢«æ³¨å†Œï¼Œä½†æ˜¯å®ƒä»¬ä¸éœ€è¦å‚ä¸è®­ç»ƒï¼Œå› æ­¤ä¹Ÿä¸ä¼šå½±å“æ¢¯åº¦çš„è®¡ç®—å’Œæ›´æ–°è¿‡ç¨‹ã€‚è°ƒç”¨model.buffers()å‡½æ•°é€šå¸¸ç”¨äºæ¨¡å‹çš„ä¿å­˜å’Œæ¢å¤ï¼Œä»¥åŠå…¶ä»–éœ€è¦è·å–ç¼“å†²åŒºçš„æ“ä½œã€‚ nn.BatchNorm2dåœ¨ PyTorch ä¸­ï¼ŒBatch Normalization å±‚ï¼ˆBN å±‚ï¼‰æ˜¯é€šè¿‡åœ¨æ¨¡å‹ä¸­æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„ nn.BatchNorm2d ç±»æ¥å®ç°çš„ã€‚å…¶ç¼“å†²åŒºåŒ…æ‹¬ï¼š running_meanï¼šç”¨äºè®¡ç®—è®­ç»ƒè¿‡ç¨‹ä¸­çš„å‡å€¼ï¼Œæ¯æ¬¡æ›´æ–°ä¸€æ‰¹æ•°æ®åå°±ä¼šæ›´æ–°ã€‚ running_varï¼šç”¨äºè®¡ç®—è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ–¹å·®ï¼Œæ¯æ¬¡æ›´æ–°ä¸€æ‰¹æ•°æ®åå°±ä¼šæ›´æ–°ã€‚ weightï¼šä¼šè¢«æ¨¡å‹å­¦ä¹ åˆ°çš„å°ºåº¦å› å­ã€‚ biasï¼šä¼šè¢«æ¨¡å‹å­¦ä¹ åˆ°çš„åç§»å‚æ•°ã€‚ å½“æ¨¡å‹å‘å‰ä¼ æ’­æ—¶ï¼ŒBN å±‚ä¼šå°†è¾“å…¥æ•°æ®æŒ‰ç»´åº¦è®¡ç®—å‡ºå‡å€¼å’Œæ–¹å·®ï¼Œç„¶åä½¿ç”¨è¿™äº›å‡å€¼å’Œæ–¹å·®å¯¹æ•°æ®è¿›è¡Œå½’ä¸€åŒ–æ“ä½œã€‚å½’ä¸€åŒ–åçš„æ•°æ®ä¼šå—åˆ° weight å’Œ bias çš„å½±å“ï¼Œç„¶åè¢«ä¼ é€’ç»™ä¸‹ä¸€å±‚ä½œä¸ºè¾“å…¥ã€‚ æ³¨æ„åˆ°åœ¨æ·»åŠ äº† BN å±‚åï¼Œæˆ‘ä»¬åœ¨ä¼ é€’æ•°æ®åˆ°ä¸‹ä¸€å±‚ä¹‹å‰éœ€è¦ä½¿ç”¨ ReLU æ¿€æ´»å‡½æ•°ã€‚ nn.BatchNorm2d çš„å®ç°ç»†èŠ‚å¦‚ä¸‹ï¼š å‡è®¾è¾“å…¥çš„å½¢çŠ¶æ˜¯ (batch_size, channels, height, width)ï¼Œåˆ™ BatchNorm2d å±‚ä¼šæŒ‰ç…§ channels ç»´åº¦è®¡ç®—æ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„å‡å€¼å’Œæ–¹å·®ï¼Œæ¥ç€ä½¿ç”¨è¿™äº›å‡å€¼å’Œæ–¹å·®å¯¹è¾“å…¥æ•°æ®è¿›è¡Œå½’ä¸€åŒ–ã€‚å½’ä¸€åŒ–åçš„æ•°æ®ä¼šå—åˆ°æƒé‡å‚æ•° weightï¼ˆå½¢çŠ¶ä¸º (channels,)ï¼‰å’Œåç½®å‚æ•° biasï¼ˆå½¢çŠ¶ä¹Ÿæ˜¯ (channels,)ï¼‰çš„å½±å“ï¼Œæœ€ç»ˆè¾“å‡ºå½¢çŠ¶ä¹Ÿæ˜¯ (batch_size, channels, height, width)ã€‚ torch.unique_consecutive(*args, **kwargs)å‚æ•°ï¼š input(Tensor) -è¾“å…¥å¼ é‡ return_inverse(bool) -æ˜¯å¦è¿˜è¿”å›åŸå§‹è¾“å…¥ä¸­çš„å…ƒç´ åœ¨è¿”å›çš„å”¯ä¸€åˆ—è¡¨ä¸­ç»“æŸçš„ä½ç½®çš„ç´¢å¼•ã€‚ return_counts(bool) -æ˜¯å¦è¿˜è¿”å›æ¯ä¸ªå”¯ä¸€å…ƒç´ çš„è®¡æ•°ã€‚ dim(int) -è¦åº”ç”¨å”¯ä¸€çš„ç»´åº¦ã€‚å¦‚æœ None ï¼Œåˆ™è¿”å›å±•å¹³è¾“å…¥çš„å”¯ä¸€æ€§ã€‚é»˜è®¤å€¼ï¼šNone è¿”å›ï¼š ä¸€ä¸ªå¼ é‡æˆ–ä¸€ä¸ªå¼ é‡å…ƒç»„åŒ…å« è¾“å‡º(å¼ é‡)ï¼šå”¯ä¸€æ ‡é‡å…ƒç´ çš„è¾“å‡ºåˆ—è¡¨ã€‚ inverse_indices(å¼ é‡)ï¼š(å¯é€‰)å¦‚æœreturn_inverseä¸º Trueï¼Œå°†æœ‰ä¸€ä¸ªé¢å¤–çš„è¿”å›å¼ é‡(ä¸è¾“å…¥çš„å½¢çŠ¶ç›¸åŒ)è¡¨ç¤ºåŸå§‹è¾“å…¥ä¸­çš„å…ƒç´ æ˜ å°„åˆ°è¾“å‡ºä¸­çš„ä½ç½®çš„ç´¢å¼•ï¼›å¦åˆ™ï¼Œæ­¤å‡½æ•°å°†ä»…è¿”å›ä¸€ä¸ªå¼ é‡ã€‚ è®¡æ•°(å¼ é‡)ï¼š(å¯é€‰)å¦‚æœreturn_countsä¸º Trueï¼Œå°†æœ‰ä¸€ä¸ªé¢å¤–çš„è¿”å›å¼ é‡(ä¸ output æˆ– output.size(dim) çš„å½¢çŠ¶ç›¸åŒï¼Œå¦‚æœæŒ‡å®šäº† dim )è¡¨ç¤ºæ¯ä¸ªå”¯ä¸€å€¼æˆ–å¼ é‡çš„å‡ºç°æ¬¡æ•°ã€‚ ä¾‹å­ï¼š 12345678910111213141516&gt;&gt;&gt; x = torch.tensor([1, 1, 2, 2, 3, 1, 1, 2])&gt;&gt;&gt; output = torch.unique_consecutive(x)&gt;&gt;&gt; outputtensor([1, 2, 3, 1, 2])&gt;&gt;&gt; output, inverse_indices = torch.unique_consecutive(x, return_inverse=True)&gt;&gt;&gt; outputtensor([1, 2, 3, 1, 2])&gt;&gt;&gt; inverse_indicestensor([0, 0, 1, 1, 2, 3, 3, 4])&gt;&gt;&gt; output, counts = torch.unique_consecutive(x, return_counts=True)&gt;&gt;&gt; outputtensor([1, 2, 3, 1, 2])&gt;&gt;&gt; countstensor([2, 2, 1, 2, 1]) torch.cumsumtorch.cumsum æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—å¼ é‡å…ƒç´ çš„ç´¯åŠ å’Œã€‚ å…·ä½“æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªä¸€ç»´å¼ é‡ï¼ˆé•¿åº¦ä¸º nï¼‰ï¼Œtorch.cumsum(input, dim=0) è¿”å›ä¸€ä¸ªåŒæ ·é•¿åº¦çš„å¼ é‡ï¼Œå…¶ä¸­æ¯ä¸ªä½ç½®çš„å…ƒç´ ä¸ºåŸå¼ é‡ä¸­è¯¥ä½ç½®åŠä¹‹å‰ä½ç½®çš„å…ƒç´ çš„ç´¯åŠ å’Œã€‚ä¾‹å¦‚ï¼š 123456import torcha = torch.tensor([1, 2, 3, 4, 5])b = torch.cumsum(a, dim=0)print(b)# output: tensor([ 1, 3, 6, 10, 15]) å¯¹äºä¸€ä¸ªå¤šç»´å¼ é‡ï¼Œtorch.cumsum(input, dim) ä¼šæ²¿ç€æŒ‡å®šç»´åº¦ dim è¿›è¡Œç´¯åŠ ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªäºŒç»´å¼ é‡ï¼ˆshape ä¸º (m, n)ï¼‰ï¼Œtorch.cumsum(input, dim=0) ä¼šè¿”å›ä¸€ä¸ªä¸åŸå¼ é‡å°ºå¯¸ç›¸åŒçš„å¼ é‡ï¼Œå…¶ä¸­æ¯åˆ—éƒ½æ²¿ç€è¡Œæ–¹å‘è¿›è¡Œå…ƒç´ ç´¯åŠ ã€‚ å…·ä½“å®ç°å¯ä»¥å‚è€ƒ PyTorch æ–‡æ¡£ä¸­çš„è¯´æ˜ï¼štorch.cumsumã€‚ ç»Ÿè®¡æ¨¡å‹å‚æ•°é¦–å…ˆå¯¹äºè®¡ç®—æ¨¡å‹çš„FLOPsè€Œè¨€ï¼Œfvcoreæ˜¯ä¸€ä¸ªæ˜“ç”¨çš„å·¥å…·ã€‚fvcoreæ˜¯Facebookå¼€æºçš„ä¸€ä¸ªè½»é‡çº§çš„æ ¸å¿ƒåº“ï¼Œå®ƒæä¾›äº†å„ç§è®¡ç®—æœºè§†è§‰æ¡†æ¶ä¸­å¸¸è§ä¸”åŸºæœ¬çš„åŠŸèƒ½ã€‚å…¶ä¸­å°±åŒ…æ‹¬äº†ç»Ÿè®¡æ¨¡å‹çš„å‚æ•°ä»¥åŠFLOPsç­‰ã€‚fvcoreé¡¹ç›®çš„å¼€æºåœ°å€æ˜¯ï¼š facebookresearch/fvcore: Collection of common code thatâ€™s shared among different research projects in FAIR computer vision team. (github.com) å¦‚æœéœ€è¦ä½¿ç”¨fvcoreï¼Œé¦–å…ˆéœ€è¦å®‰è£…ï¼š 1pip install fvcore å¯¹äºFlOPsï¼Œæˆ‘ä»¬å…ˆè§£é‡Šä¸€ä¸‹å…¶æ¦‚å¿µï¼š FLOPSï¼šæ³¨æ„å…¨å¤§å†™ï¼Œæ˜¯floating point operations per secondçš„ç¼©å†™ï¼Œæ„æŒ‡æ¯ç§’æµ®ç‚¹è¿ç®—æ¬¡æ•°ï¼Œç†è§£ä¸ºè®¡ç®—é€Ÿåº¦ã€‚æ˜¯ä¸€ä¸ªè¡¡é‡ç¡¬ä»¶æ€§èƒ½çš„æŒ‡æ ‡ã€‚ FLOPsï¼šæ³¨æ„så°å†™ï¼Œæ˜¯floating point operationsçš„ç¼©å†™ï¼ˆsè¡¨å¤æ•°ï¼‰ï¼Œæ„æŒ‡æµ®ç‚¹è¿ç®—æ•°ï¼Œç†è§£ä¸ºè®¡ç®—é‡ã€‚å¯ä»¥ç”¨æ¥è¡¡é‡ç®—æ³•/æ¨¡å‹çš„å¤æ‚åº¦ã€‚ æ³¨æ„ï¼Œæ¨¡å‹çš„å‚æ•°é‡å°‘ä¸ä»£è¡¨FLOPsä½ï¼Œç†è®ºçš„FLOPsä½ä¹Ÿä¸ä»£è¡¨å®é™…çš„æ¨ç†é€Ÿåº¦å¿«ã€‚ 1234567891011121314151617181920212223242526272829303132333435import torchfrom torchvision.models import resnet50from fvcore.nn import FlopCountAnalysis, parameter_count_tabledef print_models_param_nums(model): \"\"\"counts and prints the number of models parameters Args: model (_type_): model \"\"\" total = sum([param.numel() for param in model.parameters()]) print(' + Number of params: %.2fM' % (total / 1e6))def count_models_param_nums(model): \"\"\"counts and the number of models parameters\"\"\" return sum(p.numel() for p in model.parameters()) / 1e6if __name__ == '__main__': # åˆ›å»º resnet50 ç½‘ç»œ model = resnet50(num_classes=1000) # åˆ›å»ºè¾“å…¥ç½‘ç»œçš„ tensor tensor = (torch.rand(1, 3, 224, 224),) # åˆ†æ FLOPS flops = FlopCountAnalysis(model, tensor) print(\"Flops: {}\".format(flops.total())) # è®¡ç®—æ¨¡å‹çš„å‚æ•°é‡ print(parameter_count_table(model)) # è‡ªå®šä¹‰å‡½æ•°ç»Ÿè®¡æ¨¡å‹çš„å‚æ•°é‡ count_models_param_nums(model) # è¾“å‡ºæ¨¡å‹çš„æ€»å‚æ•° print(\"Total params: {:.2f}M\".format(count_models_param_nums(model))) å°è£…æ•°æ®é›†è®­ç»ƒæŠ€å·§å¤šå¡è®­ç»ƒä½¿ç”¨å¤šå¡è®­ç»ƒçš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå½“ç„¶å‰ææ˜¯æˆ‘ä»¬çš„è®¾å¤‡ä¸­å­˜åœ¨ä¸¤ä¸ªåŠä»¥ä¸Šçš„GPUï¼šä½¿ç”¨å‘½ä»¤ nvidia-smi æŸ¥çœ‹å½“å‰Ubuntuå¹³å°çš„GPUæ•°é‡ï¼Œåœ¨æˆ‘ä»¬è®¾å¤‡ä¸­ç¡®å®å­˜åœ¨å¤šå¡çš„æ¡ä»¶ä¸‹ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨ torch.nn.DataParallel å°†æ¨¡å‹wrapä¸€ä¸‹å³å¯ï¼š 1net = torch.nn.DataParallel(model) è¿™æ—¶ï¼Œé»˜è®¤æ‰€æœ‰å­˜åœ¨çš„æ˜¾å¡éƒ½ä¼šè¢«ä½¿ç”¨ã€‚ å¦‚æœæœºå­ä¸­æœ‰å¾ˆå¤šæ˜¾å¡ï¼Œä½†åªæƒ³ä½¿ç”¨0ã€1ã€2å·æ˜¾å¡ï¼Œé‚£ä¹ˆå¯ä»¥ï¼š 123os.environ[\"CUDA_VISIBLE_DEVICES\"] = ','.join(map(str, [0,1,2]))net = torch.nn.DataParallel(model)# CUDA_VISIBLE_DEVICES è¡¨ç¤ºå½“å‰å¯ä»¥è¢«pythonç¯å¢ƒç¨‹åºæ£€æµ‹åˆ°çš„æ˜¾å¡ æƒé‡è¡°é€€ï¼ˆweight_decayï¼‰ æ­£åˆ™åŒ–ï¼šå‡¡äº‹å¯ä»¥å‡å°‘æ³›åŒ–è¯¯å·®è€Œä¸æ˜¯å‡å°‘è®­ç»ƒè¯¯å·®çš„æ–¹æ³•ï¼Œéƒ½å¯ä»¥ç§°ä½œæ­£åˆ™åŒ–æ–¹æ³•ã€‚ æƒé‡è¡°é€€æ˜¯ä¸€ç§æœ€å¸¸è§çš„å¤„ç†è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼Œé€šå¸¸ä¹Ÿè¢«ç§°ä¸º L2 æ­£åˆ™åŒ– æƒå€¼è¡°å‡ æ˜¯ä¸€ç›´ä»¥æ¥ç»å¸¸è¢«ä½¿ç”¨çš„ä¸€ç§æŠ‘åˆ¶è¿‡æ‹Ÿåˆçš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•é€šè¿‡åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­å¯¹å¤§çš„æƒé‡è¿›è¡Œæƒ©ç½šï¼Œæ¥æŠ‘åˆ¶è¿‡æ‹Ÿåˆã€‚å¾ˆå¤šè¿‡æ‹ŸåˆåŸæœ¬å°±æ˜¯å› ä¸ºæƒé‡å‚æ•°å–å€¼è¿‡å¤§æ‰å‘ç”Ÿçš„ã€‚ä¸ºæŸå¤±å‡½æ•°åŠ ä¸Šæƒé‡çš„å¹³æ–¹èŒƒæ•°ï¼ˆL2 èŒƒæ•°ï¼‰ï¼Œå°±å¯ä»¥æŠ‘åˆ¶æƒé‡å˜å¤§ï¼ŒÎ» æ˜¯æ§åˆ¶æ­£åˆ™åŒ–å¼ºåº¦çš„è¶…å‚æ•°ï¼ŒÎ» è®¾ç½®å¾—è¶Šå¤§ï¼Œå¯¹å¤§çš„æƒé‡æ–½åŠ çš„æƒ©ç½šå°±è¶Šé‡ã€‚ ä»¥ä¸‹æ˜¯ä¸€æ®µç¤ºä¾‹ä»£ç ï¼š 123456789no_decay = ['bias', 'bn']grouped_parameters = [ {'params': [p for n, p in model.named_parameters() if not any( nd in n for nd in no_decay)], 'weight_decay': args.wdecay}, {'params': [p for n, p in model.named_parameters() if any( nd in n for nd in no_decay)], 'weight_decay': 0.0}]optimizer = optim.SGD(grouped_parameters, lr=args.lr, momentum=0.9, nesterov=args.nesterov) no_decay è¡¨ç¤ºä¸åº”ç”¨æƒé‡è¡°å‡ï¼ˆweight decayï¼‰çš„å‚æ•°ï¼Œå…¶ä¸­ï¼Œåç½®ï¼ˆbiasï¼‰å’Œæ‰¹å½’ä¸€åŒ–ï¼ˆbatch normalizationï¼‰å‚æ•°ä¸ä¼šå—åˆ°æƒé‡è¡°å‡çš„å½±å“ grouped_parameters ä¸­ï¼š params ä¸€ä¸ªåŒ…å«å‚æ•°ï¼ˆparameterï¼‰çš„åˆ—è¡¨ï¼Œæ ¹æ®ç‰¹å®šçš„æ¡ä»¶é€‰æ‹©æ¨¡å‹ä¸­çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå­—å…¸ä¸­é€‰æ‹©çš„æ˜¯å—æƒé‡è¡°å‡å½±å“çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªå­—å…¸ä¸­é€‰æ‹©çš„æ˜¯ä¸å—æƒé‡è¡°å‡å½±å“çš„å‚æ•° weight_decay æƒé‡è¡°å‡çš„å€¼ optimizer æ˜¯ä¸€ä¸ªä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆStochastic Gradient Descent, SGDï¼‰ç®—æ³•è¿›è¡Œä¼˜åŒ–çš„å¯¹è±¡ï¼Œæ¥å—ä»¥ä¸‹å‚æ•°ï¼š 12345678910111213141516171819202122232425262728class SGD( params: _params_t, lr: float, momentum: float = ..., dampening: float = ..., weight_decay: float = ..., nesterov: bool = ...) \"\"\"Implements stochastic gradient descent (optionally with momentum). Nesterov momentum is based on the formula from On the importance of initialization and momentum in deep learning__. Args: params (iterable): iterable of parameters to optimize or dicts defining parameter groups lr (float): learning rate momentum (float, optional): momentum factor (default: 0) weight_decay (float, optional): weight decay (L2 penalty) (default: 0) dampening (float, optional): dampening for momentum (default: 0) nesterov (bool, optional): enables Nesterov momentum (default: False) Example: &gt;&gt;&gt; optimizer = torch.optim.SGD(model.parameters(), lr=0.1, momentum=0.9) &gt;&gt;&gt; optimizer.zero_grad() &gt;&gt;&gt; loss_fn(model(input), target).backward() &gt;&gt;&gt; optimizer.step() \"\"\" è™šæ‹Ÿæœºåå°è®­ç»ƒåªéœ€è¦åœ¨ä»¥å‰è®­ç»ƒçš„æŒ‡ä»¤å‰å¢åŠ  nohup å‘½ä»¤ï¼ŒåŒæ—¶åœ¨ç»“å°¾åŠ ä¸Š &amp; ç¬¦å·å³å¯ï¼š 12nohup python -m visdom.server &amp; # åå°è¿è¡Œvisdom.servernohup python train.py &amp; # ä½¿æ¨¡å‹åœ¨åå°è®­ç»ƒ æˆ‘ä»¬å¯ä»¥é€šè¿‡ jobs -l æ¥æŸ¥çœ‹è¿›ç¨‹ï¼Œåœ¨è®­ç»ƒç»“æŸåé€šè¿‡ kill æŒ‡ä»¤å…³é—­åå°è¿›ç¨‹ï¼š 12jobs -l # æŸ¥çœ‹è¿›ç¨‹kill -9 PID # é€šè¿‡è¿›ç¨‹çš„PIDå…³é—­è¿›ç¨‹ å½“ç»ˆç«¯é“¾æ¥æ–­å¼€ï¼Œé‡æ–°é“¾æ¥åæ— æ³•é€šè¿‡ jobs å‘½ä»¤æŸ¥çœ‹åå°è¿›ç¨‹ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡ ps ux æŒ‡ä»¤æŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹çš„ PIDï¼Œç„¶åé€šè¿‡ kill æŒ‡ä»¤å…³é—­è¿›ç¨‹ï¼š 12ps ux # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„PIDkill -9 PID # å…³é—­ç‰¹å®šè¿›ç¨‹ å¦å¤–ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ—¶ï¼Œé€šè¿‡åå°è¿è¡Œç¨‹åºçš„æ‰€æœ‰è¾“å…¥éƒ½ä¼šå­˜å‚¨åˆ° nohup.out çš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸æ¸…ç†çš„è¯ï¼Œè¯¥æ–‡ä»¶ä¼šä¸æ–­å¢åŠ ï¼Œnohup.out æ–‡ä»¶é»˜è®¤å­˜æ”¾åœ¨å½“å‰æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•ä¸­ï¼Œä¹Ÿå¯ä»¥åŒè¿‡æŒ‡ä»¤ä¿®æ”¹å­˜æ”¾ä½ç½®ï¼š 123456# ä¿®æ”¹nohup.outæ–‡ä»¶å­˜æ”¾ä½ç½®nohup python train.py &gt; /path/to/custom.out &amp;# åœ¨ä¸åœæ­¢è¿›ç¨‹çš„æƒ…å†µä¸‹æ¸…ç©ºnohup.outæ–‡ä»¶çš„æŒ‡ä»¤ï¼ˆä»¥ä¸‹ä¸¤ä¸ªæŒ‡ä»¤ä»»é€‰ä¸€ä¸ªå³å¯ï¼‰cp /dev/null nohup.outcat /dev/null &gt; nohup.out ä¾‹å¦‚ï¼š 123456(fixmatch) root@be6fec86789a:~/Tz/FixMatch-pytorch# nohup python train.py --dataset cifar10 --num-labeled 4000 --arch wideresnet --batch-size 64 --lr 0.03 --expand-labels --seed 5 --out results/cifar10@4000.5 &gt; /root/Tz/FixMatch-pytorch/log/fixmatch_cifar10_4000_5.out &amp;[1] 3913nohup: ignoring input and redirecting stderr to stdout(fixmatch) root@be6fec86789a:~/Tz/FixMatch-pytorch# jobs -l[1]+ 3913 Running nohup python train.py --dataset cifar10 --num-labeled 4000 --arch wideresnet --batch-size 64 --lr 0.03 --expand-labels --seed 5 --out results/cifar10@4000.5 &gt; /root/Tz/FixMatch-pytorch/log/fixmatch_cifar10_4000_5.out &amp;","categories":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://ytz7.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"}],"tags":[]},{"title":"FixMatch","slug":"fixmatch","date":"2023-05-22T05:01:14.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/e378f85.html","link":"","permalink":"https://ytz7.github.io/posts/e378f85.html","excerpt":"","text":"Simplifying Semi-Supervised Learning with Consistency and Confidence ä¼šè®®ï¼šNeurIPS 2020 è®ºæ–‡åœ°å€ï¼šFixMatch: Simplifying Semi-Supervised Learning with Consistency and Confidence Pytorch å¤ç°ï¼š kekmodel/FixMatch-pytorch CoinCheung/fixmatch-pytorch valencebond/FixMatch_pytorch: å‚è€ƒæ–‡ç« ï¼š Semi-Supervised Learning in Computer Vision ä¸»è¦å·¥ä½œFixMatch ç»“åˆäº†åŠç›‘ç£å­¦ä¹ ä¹‹å‰çš„å·¥ä½œï¼Œç»“åˆä¼ªæ ‡ç­¾ï¼ˆ pseudo-labelï¼‰å’Œ ä¸€è‡´æ€§æ­£åˆ™ï¼ˆConsistency Regularizationï¼‰ï¼Œå¹¶ä¸”å®ƒæ›´ç®€å•ï¼Œç›¸è¾ƒäºä¹‹å‰åœ¨åŠç›‘ç£å­¦ä¹ çš„å·¥ä½œï¼Œæ¯”å¦‚ï¼šUDA å’Œ ReMixMatchï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒFixMatch åœ¨æœ‰æ ‡ç­¾æ•°æ®ä¸Šè®­ç»ƒï¼Œå°†é¢„æµ‹æ‰€å¾—åˆ°çš„æ¦‚ç‡åˆ†å¸ƒä¸çœŸå®æ ‡ç­¾è®¡ç®—æŸå¤± L1ï¼› å¯¹äºæ— æ ‡ç­¾æ•°æ®ï¼ŒFixMatch åšäº†ä¸¤æ¬¡æ•°æ®å¢å¼ºï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸è¾ƒäºå…¶ä»–å·¥ä½œç‰¹åˆ«çš„åœ°æ–¹ï¼ŒFixMatch åˆ†åˆ«å¯¹æ— æ ‡ç­¾æ•°æ®åšäº†å¼±å¢å¼ºï¼ˆWeakly Augmentedï¼‰å’Œå¼ºå¢å¼ºï¼ˆStrongly Augmentedï¼‰ï¼Œå¯¹äºå¼±å¢å¼ºåçš„æ•°æ®é€šè¿‡æ¨¡å‹é¢„æµ‹å¾—åˆ°ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œå¹¶ä¸”ï¼Œå¯¹è¿™ä¸€æ¦‚ç‡åˆ†å¸ƒåšä¸€ç‰¹æ®Šå¤„ç†ï¼Œæœ€æ¦‚ç‡åˆ†å¸ƒä¸­æœ€å¤§çš„æ¦‚ç‡ï¼Œè®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œè‹¥è¯¥æ¦‚ç‡å¤§äºè¯¥é˜ˆå€¼ï¼Œé‚£ä¹ˆåˆ™å°†å…¶çº³å…¥æŸå¤±å‡½æ•°ä¹‹ä¸­ï¼Œå¹¶ä¸”ï¼Œä½¿ç”¨ arg maxä½¿å…¶åˆ†å¸ƒå˜ä¸º One-Hotå½¢å¼ï¼Œæ¥ç€ä¸å¼ºå¢å¼ºåçš„æ•°æ®é€šè¿‡æ¨¡å‹é¢„æµ‹å¾—åˆ°çš„åˆ†å¸ƒä½œäº¤å‰ç†µå¾—åˆ°æŸå¤±L2ï¼Œæœ€åé€šè¿‡åŠ æƒå’Œå¾—åˆ°æœ€ç»ˆçš„æŸå¤±ã€‚ å…¶ä¸­ L1ã€L2 ä»¥åŠæœ€ç»ˆçš„æŸå¤±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™é‡Œæä¸€ä¸‹ï¼Œåœ¨è®¡ç®—æœ‰æ ‡ç­¾æ•°æ®ï¼Œå°†å¯¹å¯¹å…¶ä½œä¸€äº›å¼±å¢å¼ºçš„æ“ä½œï¼Œä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç»“æœï¼Œå¯¹äºæƒé‡ç³»æ•° Î»ï¼Œåœ¨å…ˆå‰çš„å·¥ä½œä¸­éƒ½æ˜¾ç¤ºå¯¹æƒé‡ç³»æ•°æ…¢æ…¢æå‡æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„éƒ¨åˆ†ï¼Œä½†åœ¨ FixMatch ä¸­ï¼Œæå‡æƒé‡ç³»æ•°è¿™ä¸€éƒ¨åˆ†ä»¥åŠåŒ…å«åœ¨ç®—æ³•å½“ä¸­ï¼Œå°±ä¸éœ€è¦é¢å¤–è¿›è¡Œä¸€äº›è®¡ç®—å°†æƒé‡ç³»æ•°æ…¢æ…¢å¢å¤§ï¼š ä¸éœ€è¦æ·»åŠ è¿™ä¸ªæƒé‡ç³»æ•°çš„åŸå› æ˜¯ï¼šåœ¨æŸå¤±å‡½æ•°ä¸­ max(qb)åœ¨æ—©æœŸè®­ç»ƒä¸­ç»å¤§éƒ¨åˆ†æ•°æ®é€šè¿‡æ¨¡å‹é¢„æµ‹å¾—åˆ°çš„æœ€å¤§æ¦‚ç‡å€¼éƒ½ä¼šæ¯”é˜ˆå€¼Ï„å°ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹çš„é¢„æµ‹è¾“å‡ºå°†ä¼šè¶Šæ¥è¶Šâ€œè‡ªä¿¡â€ï¼Œè€Œå°†ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„æ•°æ®æ ·æœ¬çš„ max(qb) &gt; Ï„ ã€‚ æ•°æ®å¢å¼ºæ–¹å¼å¼±å¢å¼ºï¼ˆWeak Augmentationï¼‰è®ºæ–‡ä¸­ä½¿ç”¨äº†ç®€å•çš„ç¿»è½¬å’Œå¹³ç§»ï¼ˆflip-and-shiftï¼‰ç­–ç•¥ï¼š Random Horizontal Flip éšæœºæ°´å¹³ç¿»è½¬ï¼Œè®ºæ–‡ä¸­ä½¿ç”¨äº†è®¾ç½®å…¶æ¦‚ç‡ä¸º 0.5ï¼Œå¯¹äº SVHN æ•°æ®é›†ä¸é€‚ç”¨è¯¥å¢å¼ºæ–¹å¼ï¼Œå› ä¸º SVHN æ•°æ®é›†ä¸ºéƒ½æ˜¯æ•°å­—ï¼Œå¯¹æ•°å­—è¿›è¡Œç¿»è½¬ï¼Œæ²¡æœ‰æ„ä¹‰ï¼Œä»¥ä¸‹æ˜¯åŸºäº Pytorch å®ç°ï¼š 12345from PIL import Imageimport torchvision.transforms as transformsim = Image.open('dog.png')weak_im = transforms.RandomHorizontalFlip(p=0.5)(im) Random Vertical and Horizontal Translation 12345678import torchvision.transforms as transformsfrom PIL import Imageim = Image.open('dog.png')resized_im = transforms.Resize(32)(im)translated = transforms.RandomCrop(size=32, padding=int(32*0.125), padding_mode='reflect')(resized_im) å¼ºå¢å¼ºï¼ˆStrong Augmentationï¼‰FixMatch å¯¹æ•°æ®æ ·æœ¬è¿ç”¨äº† RandAugment å’Œ CTAugment åï¼Œåœ¨å¯¹å…¶ä½¿ç”¨ CutOut å¢å¼ºæ–¹å¼ã€‚ Cutout 1234567891011121314151617import torchimport torchvision.transforms as transforms# Image of 520*520im = torch.rand(3, 520, 520)# Fill cutout with gray colorgray_code = 127# ratio=(1, 1) to set aspect ratio of square# p=1 means probability is 1, so always apply cutout# scale=(0.01, 0.01) means we want to get cutout of 1% of image area# Hence: Cuts out gray square of 52*52cutout_im = transforms.RandomErasing(p=1, ratio=(1, 1), scale=(0.01, 0.01), value=gray_code)(im) AutoAugment RandAugment åé¢ä¸¤ä¸ªå¢å¼ºæ–¹å¼å…·ä½“è¿˜æ²¡æœ‰çœ‹ä»–çš„è®ºæ–‡ï¼Œå°±ä¸ä»‹ç»äº†â€¦ è®­ç»ƒè¿‡ç¨‹å¯¹æœ‰æ ‡ç­¾çš„æ•°æ®ä½¿ç”¨çš„ Batch å¤§å°ä¸º Bï¼Œå¯¹äºæ— æ ‡ç­¾çš„æ•°æ®æ‰€ä½¿ç”¨çš„ Batch å¤§å°ä¸º Î¼Bï¼Œå…¶ä¸­ Î¼ ä¸ºè¶…å‚æ•°ï¼Œä½œè€…ä½¿ç”¨ Î¼ = 7 ç”¨äºæ¨¡å‹çš„è®­ç»ƒï¼š æœ‰ç›‘ç£å­¦ä¹ éƒ¨åˆ†ï¼Œä½¿ç”¨äº¤å‰ç†µè®¡ç®—æŸå¤±å‡½æ•°ï¼š å¯¹æœªæ ‡è®°æ•°æ®åˆ¶ä½œä¼ªæ ‡ç­¾ï¼š è®¡ç®—ä¸€è‡´æ€§æŸå¤±ï¼Œæ‰€ä½¿ç”¨çš„æŸå¤±å‡½æ•°ä¹Ÿä¸ºäº¤å‰ç†µï¼š å¯¹äºä¸Šè¿°æ‰€æåˆ°çš„æƒé‡ç³»æ•° Î»ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œåº”ç”¨ä¸è®­ç»ƒçš„æ— æ ‡ç­¾æ•°æ®å°†ä¼šè¶Šæ¥è¶Šå¤šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¨¡å‹å°±å¥½åƒæ˜¯å°å­©å­å­¦ä¹ ä¸€èˆ¬ï¼Œä»ç®€å•åœ¨åˆ°å¤æ‚ï¼š ç®—æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š å®éªŒ åœ¨è®ºæ–‡ä¸­ï¼Œä½œè€…åšäº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å®éªŒï¼Œå³åªå– 10 ä¸ªæœ‰æ ‡ç­¾çš„æ•°æ®ï¼ˆåœ¨ CIFAR-10 ä¸­ï¼Œå³æ¯ä¸€ä¸ªç±»åˆ«åªå– 1 å¼ å›¾ç‰‡ï¼‰ï¼Œä½œè€…éšæœºæŒ‘é€‰äº† 4 æ¬¡ï¼Œæ„å»ºäº† 4 ä¸ªä¸åŒçš„æ•°æ®é›†ï¼Œæ¨¡å‹çš„å‡†ç¡®ç‡ï¼ˆä¸­ä½æ•°ï¼‰ä¸º 64.28%ï¼ˆå‡†ç¡®ç‡èŒƒå›´ä¸ºï¼š48.58% - 85.32%ï¼‰ã€‚ å¹¶ä¸”ï¼Œè®­ç»ƒæ•°æ®é›†ä¹‹é—´çš„å·®å¼‚å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œç†åº”å¾—åˆ°çš„å‡†ç¡®ç‡åº”è¯¥ç›¸å·®ä¸å¤§ï¼Œä½†ä½œè€…å‘ç°äº†ï¼Œ4 ä¸ªæ¨¡å‹åœ¨ç¬¬ä¸€ä¸ªæ•°æ®é›†ä¸­è®­ç»ƒå¾—åˆ°çš„å‡†ç¡®ç‡éƒ½è¾¾åˆ°äº† 61% - 67%ï¼Œè€Œåœ¨ç¬¬äºŒä¸ªæ•°æ®é›†ä¸­å‡†ç¡®ç‡åœ¨ 68% - 75%ã€‚ ä½œè€…è®¤ä¸ºï¼šè®­ç»ƒçš„ä¸ç¨³å®šæ€§ä¸æ¯ä¸ªæ•°æ®é›†ä¸­ 10 ä¸ªæ ‡è®°æ•°æ®çš„è´¨é‡æœ‰å…³ï¼Œé‡‡æ ·å¾—åˆ°çš„ä½è´¨é‡çš„æ ‡è®°æ•°æ®ï¼Œå¯èƒ½ä¼šè®©æ¨¡å‹å¾ˆéš¾æœ‰æ•ˆçš„å­¦ä¹ ä¿¡æ¯ï¼Œä¸ºäº†éªŒè¯è¿™ä¸€ä¸ªè§‚ç‚¹ï¼Œä½œè€…æ„å»ºäº† 8 ä¸ªæ–°çš„è®­ç»ƒæ•°æ®é›†ï¼ˆå„ä¸ªç±»åˆ«ä¸­æœ€æœ‰ä»£è¡¨æ€§çš„æœ‰æ ‡ç­¾æ•°æ® -&gt; â€¦ -&gt; å„ä¸ªç±»åˆ«ä¸­æœ€æ²¡æœ‰ä»£è¡¨æ€§çš„æœ‰æ ‡ç­¾æ•°æ®ï¼‰è¿›è¡Œè®­ç»ƒï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç»“æœå’Œå‡è®¾ä¸€æ ·ï¼ŒåŸºäºæœ€æœ‰ä»£è¡¨æ€§çš„æœ‰æ ‡ç­¾æ•°æ®ç»„æˆçš„æ•°æ®é›†è®­ç»ƒè¾¾åˆ°äº† 78% çš„å‡†ç¡®ç‡ï¼Œè€Œæœ€æ²¡æœ‰ä»£è¡¨æ€§çš„æœ‰æ ‡ç­¾æ•°æ®åˆ™ä¸º 10%ï¼Œå› æ­¤ï¼Œå¯ä»¥éªŒè¯ï¼Œæ ‡è®°æ•°æ®çš„è´¨é‡å¥½åå†³å®šäº†æ¨¡å‹çš„å¥½åã€‚ æ¶ˆèå®éªŒç”±äº FixMatch æ¨¡å‹å¾ˆç®€å•ï¼Œå¾ˆå®¹æ˜“å°±èƒ½å®ç°ï¼ˆæŒ‡ä»£ç é‡å°‘ï¼‰ï¼Œä½œè€…å¯¹ä¸å…ˆå‰çš„å·¥ä½œæœªæåˆ°çš„ ä¼˜åŒ–å™¨ï¼ˆOptimizerï¼‰å’Œ å­¦ä¹ ç‡æ›´æ–°çš„æ–¹å¼ï¼ˆ Learning Rate Scheduleï¼‰èŠ±äº†å¾ˆå¤šçš„åŠŸå¤«ç ”ç©¶ã€‚ Ablation Study on Optimizer ä½œè€…åœ¨å®éªŒä¸­å‘ç°ï¼šä¸åŒçš„ä¼˜åŒ–å™¨ä»¥åŠä¼˜åŒ–å™¨ä¸­è¶…å‚æ•°çš„é€‰æ‹©å¯¹æ€§èƒ½æœ‰ç€å¾ˆå¤§çš„å½±å“ï¼Œå¹¶ä¸”ï¼ŒAdam çš„æ€§èƒ½å¹¶ä¸æ¯” momentum SGD å¥½ï¼ŒåŸå› å¯èƒ½åœ¨äºæ¨¡å‹å¯¹äºå­¦ä¹ ç‡çš„å˜åŒ–å¾ˆæ•æ„Ÿï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š Ablation Study on Learning Rate Scheduleä¸Šæ–‡ä¸­æ‰€æåˆ°ï¼Œä½œè€…å‘ç°æ¨¡å‹å¯¹äºå­¦ä¹ ç‡çš„å˜åŒ–å¾ˆæ•æ„Ÿï¼Œä½œè€…å‘ç°ï¼Œåœ¨é€‰æ‹©åˆé€‚çš„è¡°å‡æ–¹å¼çš„åŒæ—¶ï¼Œé€‰æ‹©åˆé€‚çš„è¡°å‡ç‡ä¹Ÿå¾ˆé‡è¦ï¼š æ€»ç»“ä»¥ä¸Šæ˜¯æˆ‘è§‰å¾—æ¯”è¾ƒæœ‰æ„æ€çš„åœ°æ–¹ï¼Œå…·ä½“å¯ç»†çœ‹è®ºæ–‡ã€‚","categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"Hybrid Methods","slug":"Hybrid-Methods","permalink":"https://ytz7.github.io/tags/Hybrid-Methods/"}]},{"title":"Unsupervised-Data-Augmentation","slug":"Unsupervised-Data-Augmentation","date":"2023-05-18T10:55:32.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/77eb0ac8.html","link":"","permalink":"https://ytz7.github.io/posts/77eb0ac8.html","excerpt":"","text":"Unsupervised Data Augmentation for Consistency Training ä¼šè®®ï¼šNeurIPS 2019 è®ºæ–‡åœ°å€ï¼š Unsupervised Data Augmentation for Consistency Training Pytorch å¤ç°ï¼šsndnyang/vat_pytorch å‚è€ƒæ–‡ç« ï¼š Semi-Supervised Learning in Computer Vision ç ä¾¯çƒ§é…’çš„åšå®¢ Unsupervised Data Augmentation for Consistency Training å‚è€ƒè§†é¢‘ï¼š æ•°æœ€åä¸€å åŠ¨æœºæœ€è¿‘çš„åŠç›‘ç£å­¦ä¹ æ–¹å¼éƒ½æ˜¯åŸºäºä¸€è‡´æ€§å­¦ä¹ ï¼ˆconsistency trainingï¼‰çš„ï¼Œå°½ç®¡æˆæœä¸é”™ï¼Œä½†æ˜¯å®ƒä»¬æ·»åŠ å™ªå£°çš„æ–¹å¼éƒ½æ¯”è¾ƒåˆçº§ï¼Œå¤§å¤šæ•°éƒ½æ˜¯åŸºäº Gaussian noiseï¼Œ dropout noise æˆ–è€…æ˜¯ adversarial noiseã€‚å› æ­¤ï¼Œä½œè€…æƒ³å¼•å…¥ä¸€äº›æ›´é«˜çº§çš„æ•°æ®å¢å¼ºæ–¹å¼ï¼Œå°¤å…¶æ˜¯é‚£äº›åœ¨ç›‘ç£å­¦ä¹ ä¸­å·²ç»è¯æ˜æœ‰æ•ˆçš„æ–¹æ³•ï¼Œçœ‹çœ‹å®ƒä»¬åœ¨åŠç›‘ç£å­¦ä¹ ä¸­æ˜¯å¦ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚ ç›®æ ‡å°‘æ ·æœ¬æ ‡æ³¨æƒ…å†µä¸‹ï¼Œå……åˆ†åˆ©ç”¨æ— æ ‡æ³¨æ•°æ®ï¼Œä½¿å…¶å°½å¯èƒ½è¾¾åˆ°æœ‰å……åˆ†æ ‡æ³¨çš„æ•ˆæœã€‚ æ€è·¯æ ¹æ®ä¸€è‡´æ€§è®­ç»ƒçš„åŸåˆ™ï¼Œè®¤ä¸ºå¯¹ä¸€ä¸ªæ ·æœ¬è¿›è¡Œè¾ƒå¥½çš„æ•°æ®å¢å¼ºåï¼Œé¢„æµ‹æ ‡ç­¾ä¸åº”è¯¥å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´ä¼šæœ‰ä¸¤ä¸ªéƒ¨åˆ†çš„ lossï¼šï¼ˆ1ï¼‰æ ‡æ³¨æ ·æœ¬çš„æŸå¤±ï¼Œä¸€èˆ¬é‡‡ç”¨äº¤å‰ç†µï¼›ï¼ˆ2ï¼‰æœªæ ‡æ³¨æ ·æœ¬çš„æŸå¤±ï¼ŒKL æ•£åº¦ç­‰ã€‚ æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼Œå¯¹æœ‰æ ‡ç­¾æ ·æœ¬è®¡ç®—æŸå¤± L1ï¼Œå¯¹æ— æ ‡ç­¾æ ·æœ¬æ‰§è¡Œä¸€æ¬¡é¢„æµ‹å¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå†å¯¹æ”¹å˜æœ¬åšä¸€æ¬¡ç‰¹æ®Šçš„æ•°æ®å¢å¼ºååœ¨è¿›è¡Œé¢„æµ‹å¾—åˆ°ä¸€ä¸ªç»“æœï¼Œå°†ä¸¤ä¸ªç»“æœè®¡ç®—ä¸€è‡´æ€§æŸå¤± L2ï¼Œå°† L1 ä¸ L2 è®¡ç®—åŠ æƒå’Œã€‚ æ•°å­¦å½¢å¼è¯´æ˜è¯¥æµç¨‹ï¼Œè¾“å…¥ xï¼Œè®¡ç®—è¾“å…¥åˆ†å¸ƒ p_Î¸(y|x) å’Œå¸¦å™ªå£°çš„åˆ†å¸ƒ p_Î¸(y|x, É›)ï¼Œç„¶åæœ€å°åŒ–ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼š ä¸Šè¿°å›¾ç‰‡å¯¹åº”çš„æŸå¤±å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š å…¶ä¸­ï¼ŒÎ» ä¸ºå¹³è¡¡æœ‰ç›‘ç£å­¦ä¹ å’Œä¸€è‡´æ€§è®­ç»ƒä¹‹é—´çš„æŸå¤±ï¼ŒCE ä¸ºäº¤å‰ç†µï¼Œf*(.) ä¸ºç´¢è¦è®­ç»ƒçš„æœ€ç»ˆç›®æ ‡æ¨¡å‹ã€‚ ä½†æœ‰ä¸€ç‚¹å¾ˆå¥‡æ€ªï¼Œä½œè€…åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­è®¡ç®—ä¸€è‡´æ€§æŸå¤±æ‰€é‡‡ç”¨çš„è®¡é‡æ–¹å¼ä¸º KL æ•£åº¦ï¼Œä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬åˆæ¢å›äº† Cross-Entropyï¼Œä¸æ‡‚è¿™æ˜¯ä¸ºä»€ä¹ˆâ€¦å¯èƒ½çœ‹æ•ˆæœè€Œå¼‚å§ã€‚ ä¸è¿‡æœ‰çš„äººè¯´ï¼š MSE å’Œ KL æ•£åº¦å„æœ‰ä¼˜åŠ£ï¼ŒäºŒè€…çš„é€‰å–ä¸æ•°æ®é›†çš„å®é™…åˆ†å¸ƒç‰¹å¾å…³ç³»å¾ˆå¤§ï¼Œåœ¨å®è·µä¸­ä¸å¦¨è¿›è¡Œå¯¹æ¯”æµ‹è¯• åœ¨è®ºæ–‡ä¸­ï¼Œä½œè€…æ­£å¯¹è®¡ç®—æœºè§†è§‰å’Œè‡ªç„¶è¯­è¨€ä»»åŠ¡æå‡ºäº†ä¸åŒçš„å¯¹åº”å¢å¼ºæ–¹æ³•ï¼Œå…¶ä¸­å¯¹äºå›¾ç‰‡çš„å¢å¼ºæ–¹å¼ï¼Œä½œè€…ä½¿ç”¨äº†ä¸€ä¸ªå¢å¼ºæ–¹æ³• RandAugmentï¼Œï¼ˆåªäº†è§£äº†å¤§æ¦‚ï¼Œå…·ä½“è®ºæ–‡æ²¡çœ‹ï¼Œå¥½åƒæ˜¯ä»å¼ºåŒ–å­¦ä¹ ä¸­çš„ AutoAugment è¡ç”Ÿè€Œæ¥çš„ï¼‰ã€‚ä¸åŒä»»åŠ¡çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š è®­ç»ƒæŠ€å·§ï¼ˆTricksï¼‰æ•°æ®å±‚é¢ åŸºäºç½®ä¿¡åº¦çš„æ©ç ï¼ˆConfidence-based maskingï¼‰ å¯¹é¢„æµ‹æ•ˆæœä¸å¥½çš„æ ·æœ¬ï¼ˆæŒ‡é’ˆå¯¹ä¸€è‡´æ€§é¢„æµ‹çš„åŸå§‹æ ·æœ¬ï¼‰ï¼Œå³ç½®ä¿¡åº¦ï¼ˆæœ€å¤§çš„æ ·æœ¬çš„æ¦‚ç‡ï¼‰å°äºä¸€å®šé˜ˆå€¼æ•°æ®ï¼Œä¸è®¡å…¥ä¸€è‡´æ€§æŸå¤±ã€‚ è¾“å‡ºåˆ†å¸ƒé”åŒ–ï¼ˆSharpening Predictionsï¼‰ é™ä½é¢„æµ‹ç»“æœçš„ç†µå¯¹è®­ç»ƒæœ‰å¥½å¤„ï¼Œæ‰€ä»¥ä½œè€…å¯¹æ— æ ‡ç­¾çš„é¢„æµ‹è§è¿‡åšé”åŒ–ï¼Œé‡‡ç”¨çš„æ–¹æ³•ä¸º low Softmax temperature Ï„ï¼Œä¸æ–¹æ³•ä¸€ç›¸ç»“åˆï¼Œåœ¨ batch å¤§å°ä¸º B çš„æƒ…å†µä¸‹ï¼ŒæŸå¤±ä¸ºï¼š åŸŸå¤–ç›¸å…³æ•°æ®çš„é€‰æ‹©ï¼ˆDomain-relevance Data Filteringï¼‰ æ— æ ‡ç­¾æ•°æ®é‡å¤§ï¼Œå…¶ä¸­çš„æ•°æ®åˆ†å¸ƒå¾€å¾€æ˜¯ä¸å‡è¡¡ä¸”æœ‰å¤§é‡ä»»åŠ¡æ— å…³æ•°æ®ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®ºæ–‡æå‡ºä¸€ç§é€šç”¨çš„æ— æ ‡ç­¾æ•°æ®åˆ†å¸ƒå‡è¡¡åŒ–ç­–ç•¥ã€‚é¦–å…ˆåˆ©ç”¨æœ‰æ ‡ç­¾æ•°æ®è®­ç»ƒä¸€ä¸ªåˆå§‹åŒ–æ¨¡å‹ï¼Œç„¶åå»é¢„æµ‹æ‰€æœ‰æ— æ ‡ç­¾æ•°æ®ï¼Œæ ¹æ®ç½®ä¿¡åº¦å‡è¡¡é€‰æ‹©å„ç±»åˆ«æ•°æ®ã€‚ è®­ç»ƒå±‚é¢Training Signal Annealingï¼ˆè®­ç»ƒä¿¡å·é€€ç«ï¼‰ ä¸»è¦æ˜¯é’ˆå¯¹æ ‡ç­¾æ•°æ®ä¸æœªæ ‡ç­¾æ•°æ®ä¸å¹³è¡¡æ—¶çš„åœºæ™¯ï¼Œç”±äºæœ‰å¤§é‡çš„æœªæ ‡ç­¾æ•°æ®éœ€è¦UDA å¤„ç†ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªè¾ƒå¤§æ¨¡å‹ï¼Œä½†æ˜¯ç”±äºè¾ƒå¤§æ¨¡å‹å¾ˆå®¹æ˜“åœ¨å°‘é‡æ ‡ç­¾æ•°æ®ä¸‹è¿‡æ‹Ÿåˆï¼Œæ‰€ä»¥ï¼Œæå‡ºäº†æœ¬æ–¹æ³•ç”¨äºè§£å†³è¯¥é—®é¢˜ã€‚ åŸºæœ¬åŸç†å°±æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œéšç€æœªæ ‡ç­¾æ•°æ®çš„å¢åŠ ï¼Œé€æ­¥å»é™¤å¸¦æ ‡ç­¾æ•°æ®ï¼Œä»è€Œé¿å…æ¨¡å‹è¿‡æ‹Ÿåˆåˆ°å¸¦æ ‡ç­¾çš„è®­ç»ƒæ•°æ®ã€‚å…·ä½“è€Œè¨€ï¼Œå°±æ˜¯åœ¨è®­ç»ƒçš„ t æ—¶åˆ»ï¼Œè®¾ç½®ä¸€ä¸ªé˜ˆå€¼ Î·tï¼Œå½“ 1/K â‰¤ Î·t â‰¤ 1ï¼Œå…¶ä¸­ï¼ŒK æ˜¯ç±»åˆ«æ•°ï¼Œå½“æŸä¸ªæ ‡ç­¾æ•°æ®è®¡ç®—çš„ p_Î¸(yâˆ—| x)å¤§äºé˜ˆå€¼Î·tï¼Œå°†è¯¥æ ‡ç­¾æ•°æ®ç§»é™¤å‡ºè®¡ç®—æŸå¤±çš„è¿‡ç¨‹ï¼Œè€Œåªè®¡ç®— miniBatch é‡Œé¢çš„å…¶ä½™æ•°æ®ã€‚ å…·ä½“ç­–ç•¥æœ‰ 3 ç§ï¼š log-schedule linear-schedule exp-schedule å¯¹äº labeled æ•°æ®é‡å°‘ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆæƒ…å†µï¼Œé€‰æ‹©æœ€åä¸€ç§ï¼›å¯¹äº labeled æ•°æ®é‡è¾ƒå¤šï¼Œè¿‡æ‹Ÿåˆä¸ä¸¥é‡ï¼Œå¯è§†æƒ…å†µé€‰æ‹©å‰ä¸¤ç§ã€‚ ç†è®ºæ–¹é¢çš„æ¢è®¨ï¼ˆTheoretical Analysisï¼‰ ç†è®ºæ¸£æ¸£åªèƒ½æ„ä¼šä¸å¯ç”¨æ–‡å­—æ•´ç†å‡ºæ¥ï¼Œå…·ä½“çœ‹è®ºæ–‡å§â€¦ æ€»ç»“ç»™äººçš„æ„Ÿè§‰è¿™ä¸€ç¯‡å¥½â€œå·¥ç¨‹â€ğŸ˜‚ï¼Œåœ¨æ•°æ®æ–¹é¢åšäº†å¾ˆå¤šæ–‡ç« ï¼Œä½†åŠç›‘ç£é¢†åŸŸåˆå¥½åƒéƒ½æ˜¯åœ¨å¯¹æ•°æ®è¿™ä¸€æ–¹é¢åšå¾ˆå¤šâ€œåŠ¨ä½œâ€ï¼Œä¸ç®¡äº†ï¼Œæ¥ç€çœ‹ï¼Œæ¥ç€è¯»ã€‚","categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"Data Augmentation","slug":"Data-Augmentation","permalink":"https://ytz7.github.io/tags/Data-Augmentation/"},{"name":"Consistency Regularization","slug":"Consistency-Regularization","permalink":"https://ytz7.github.io/tags/Consistency-Regularization/"}]},{"title":"Virtual Adversarial Training","slug":"Virtual-Adversarial-Training","date":"2023-05-17T11:50:25.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/cc87ae2e.html","link":"","permalink":"https://ytz7.github.io/posts/cc87ae2e.html","excerpt":"","text":"A Regularization Method for Supervised and Semi-Supervised Learning æœŸåˆŠï¼šIEEE Transactions on Pattern Analysis and Machine Intelligence (2018) è®ºæ–‡åœ°å€ï¼š Virtual Adversarial Training Pytorch å¤ç°ï¼šsndnyang/vat_pytorch å‚è€ƒæ–‡ç« ï¼š Semi-Supervised Learning in Computer Vision ç ä¾¯çƒ§é…’çš„åšå®¢ Facicoçš„åšå®¢ å‚è€ƒè§†é¢‘ï¼š æ•°æœ€åä¸€å ä¸»è¦æ€æƒ³è®ºæ–‡çš„å…³é”®æƒ³æ³•åŒæ ·ä¿æŒç€ä¸€è‡´æ€§æ­£åˆ™åŒ–çš„æ€æƒ³ï¼Œåªä¸è¿‡å°†å›¾åƒçš„å¢å¼ºæ–¹å¼ä»¥ç”Ÿæˆå¯¹æŠ—æ ·æœ¬ï¼ˆAdversarial Exampleï¼‰æ¥ä»£æ›¿ä¹‹ï¼Œæœ‰æ ‡ç­¾çš„æŸå¤±é‡‡ç”¨äº¤å‰ç†µï¼ˆCross-Entropyï¼‰è®¡ç®—ï¼Œæ— æ ‡ç­¾çš„æŸå¤±ä½¿ç”¨ KL æ•£åº¦ï¼ˆKL Divergenceï¼‰æ¥è®¡ç®—ï¼Œæœ€åæ–½ä»¥å¯¹åº”çš„æƒé‡å¾—åˆ°æœ€ç»ˆçš„æŸå¤±ï¼Œå¤§è‡´æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š ä¸€è‡´æ€§æ­£åˆ™åŒ–å…·ä½“æ¥è¯´ï¼ŒåŸºäºå¹³æ»‘å‡è®¾å’Œèšç±»å‡è®¾ï¼Œå…·æœ‰ä¸åŒæ ‡ç­¾çš„æ•°æ®ç‚¹åœ¨ä½å¯†åº¦åŒºåŸŸåˆ†ç¦»ï¼Œå¹¶ä¸”ç›¸ä¼¼çš„æ•°æ®ç‚¹å…·æœ‰ç›¸ä¼¼çš„è¾“å‡ºã€‚å¦‚æœå¯¹ä¸€ä¸ªæœªæ ‡è®°çš„æ•°æ®åº”ç”¨å®é™…çš„æ‰°åŠ¨ï¼Œå…¶é¢„æµ‹ç»“æœä¸åº”è¯¥å‘ç”Ÿæ˜¾è‘—å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºå…·æœ‰ä¸€è‡´æ€§ã€‚å…¶æ•°å­¦è¡¨è¾¾å¦‚ä¸‹ï¼š å…¶ä¸­ï¼ŒD ä¸ºåº¦é‡å‡½æ•°ï¼Œä¸€èˆ¬é‡‡ç”¨ KL æ•£åº¦ æˆ–è€… JS æ•£åº¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨äº¤å‰ç†µæˆ–è€…å¹³æ–¹è¯¯å·®ç­‰ï¼ŒAugment(Â·) æ˜¯æŒ‡æ•°æ®å¢å¼ºå‡½æ•°ï¼Œå½“é‡‡ç”¨æ•°æ®å¢å¼ºæ˜¯ï¼Œè§†ä¸ºå¯¹æ ·æœ¬/æ¨¡å‹æ·»åŠ ä¸€äº›å™ªå£°æ‰°åŠ¨ï¼ŒÎ¸ ä¸ºæ¨¡å‹å‚æ•°ã€‚ å¸¸è§çš„æ•°æ®å¢å¼ºæœ‰ä»¥ä¸‹ï¼š å¸¸è§„çš„æ•°æ®å¢å¼ºï¼šå¹³ç§»æ—‹è½¬ï¼Œéšæœº dropoutç­‰ æ—¶åºç§»åŠ¨å¹³å‡ï¼šTemporal Ensemblingï¼ŒMean-Teacher ä¸­ä½¿ç”¨çš„æ–¹æ³• å¯¹æŠ—æ ·æœ¬æ‰°åŠ¨ï¼šVAT é«˜çº§æ•°æ®å¢å¼ºï¼šUDA å¯¹æŠ—è®­ç»ƒå¯¹æŠ—è®­ç»ƒï¼ˆAdversarial Trainingï¼‰æ˜¯å¢å¼ºç¥ç»ç½‘ç»œé²æ£’æ€§çš„é‡è¦æ–¹å¼ï¼Œåœ¨å¯¹æŠ—è®­ç»ƒçš„è¿‡ç¨‹ä¸­ï¼Œæ ·æœ¬ä¼šè¢«æ··åˆä¸€äº›å¾®å°çš„æ‰°åŠ¨ï¼ˆå“ªæ€•æ”¹å˜å¾ˆå°ï¼Œä½†å¾ˆæœ‰å¯èƒ½ä¼šé€ æˆé”™è¯¯åˆ†ç±»ï¼‰ï¼Œä½¿ç¥ç»ç½‘ç»œé€‚åº”è¿™ç§æ”¹å˜ï¼Œä»è€Œå¯¹å¯¹æŠ—æ ·æœ¬å…·æœ‰é²æ£’æ€§ã€‚ ç”Ÿæˆå¯¹æŠ—æ ·æœ¬æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§æ–¹å¼ï¼š åŸºäºæ¢¯åº¦æ³•: Explaining and Harnessing Adversarial Examples åŸºäºè¶…å¹³é¢åˆ†ç±»: DeepFool: a simple and accurate method to fool deep neural networks å¯¹æŠ—æ”»å‡»ï¼ˆAdversarial Attackï¼‰ï¼šåœ¨æ¨¡å‹åŸå§‹è¾“å…¥ä¸Šæ·»åŠ å¯¹æŠ—æ‰°åŠ¨ Goodfellow å¯¹å¯¹æŠ—è®­ç»ƒæŸå¤±å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š å…¶ä¸­ï¼ŒD æ˜¯è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒç›¸ä¼¼åº¦çš„å‡½æ•°ï¼Œq(y|xl) æ˜¯æ ·æœ¬çš„çœŸå®åˆ†å¸ƒï¼Œp(y|xl, Î¸) æ˜¯ç”±å‚æ•°å’Œ xl ç”Ÿæˆçš„é¢„æµ‹åˆ†å¸ƒï¼Œé€šè¿‡å¢åŠ æ‰°åŠ¨ radv æ¥ä½¿å¾—ä¸¤ä¸ªåˆ†å¸ƒå°½é‡ç›¸ä¼¼ã€‚ å¯¹æŠ—ä¸ºä»€ä¹ˆå¯è¡Œï¼Ÿ å› ä¸ºå¾ˆå¤šç½‘ç»œè¢«è®¾è®¡å¾—ååˆ†â€œçº¿æ€§â€ï¼Œåƒ LSTM è¿™æ ·çš„ï¼Œå¯¹xçš„æ¯ä¸ªç»´åº¦éƒ½åšå¾®å°æ‰°åŠ¨ï¼Œå½“xçš„ç»´åº¦å˜å¤§çš„æ—¶å€™ï¼Œä¼šå¯¹ç½‘ç»œé€ æˆè¾ƒå¤§çš„å½±å“ ç½‘ç»œçš„çº¿æ€§ï¼Œä½¿å¾—é«˜é˜¶å¯¼è¿‘ä¼¼0ï¼ŒTaylor å±•å¼€åå ä¸»å¯¼çš„æ˜¯çº¿æ€§çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ç”¨æ¥å¹²æ‰°çš„ä¸»è¦å°±æ˜¯å¯¹æŠ—æ ·æœ¬ä¸­çº¿æ€§çš„éƒ¨åˆ† é€šå¸¸ï¼Œæˆ‘ä»¬æ— æ³•è·å¾—ç²¾ç¡®å¯¹æŠ—æ€§æ‰°åŠ¨çš„é—­å¼è§£ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ä¸Šå¼ä¸­çš„åº¦é‡ D æ¥çº¿æ€§è¿‘ä¼¼ rï¼Œä½¿ç”¨ L2 æ­£åˆ™æ˜¯ï¼Œå¯¹æŠ—æ‰°åŠ¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„å¼å­è¿‘ä¼¼ï¼š ä½¿ç”¨ Lâˆ æ­£åˆ™æ—¶ï¼Œå¯é€šè¿‡ä¸‹é¢çš„å¼å­è¿‘ä¼¼ï¼š å…¶ä¸­ g ä¸ºï¼š å¯é€šè¿‡åå‘ä¼ æ’­è¿›è¡Œè®¡ç®—ï¼Œå¯¹æŠ—æ–¹æ³•å¾—åˆ°çš„æ‰°åŠ¨æ–¹å‘ï¼Œæ¯”éšæœºæ‰¾ä¸€ä¸ªæ‰°åŠ¨æ›´å¥½ã€‚ å¯¹æŠ—è®­ç»ƒå­˜åœ¨çš„ç¼ºç‚¹ï¼šä»…ä»…åªèƒ½é€‚é…äºæœ‰ç›‘ç£å­¦ä¹ ï¼Œå½“æ ·æœ¬æ²¡æœ‰æ ‡ç­¾å°±ä¸èƒ½è¿›è¡Œï¼Œæ•…ä½œè€…æå‡ºäº†ä¸€ç§å¯ä»¥è¿ç”¨äºåŠç›‘ç£å­¦ä¹ çš„å¯¹æŠ—è®­ç»ƒæ–¹æ³•ã€‚ Virtual Adversarial Training, VATAdversarial Directionï¼Œå¯¹æŠ—æ€§æ–¹å‘ï¼Œå…¶æ¦‚å¿µæ˜¯æŒ‡èƒ½å¤Ÿæœ€å¤§ç¨‹åº¦å‡å°‘å‡†ç¡®åˆ†ç±»çš„æ¦‚ç‡çš„æ–¹å‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯»æ‰¾æ‰°åŠ¨é¡¹ radvï¼Œå…¶æŠ•å½±ç‚¹ä¸å‡†ç¡®åˆ†ç±»çš„æ–¹å‘ä¸ºå¯¹æŠ—æ€§æ–¹å‘ã€‚ local distributional smoothnessï¼ˆLDSï¼‰ï¼Œå®šä¹‰ä¸ºè¡¡é‡å½“å‰åŸºäºæ¯ä¸ªè¾“å…¥æ•°æ®çš„æ¨¡å‹çš„å¹³æ»‘åº¦çš„è´Ÿå‡½æ•°ã€‚ æ¨å¯¼æµç¨‹ ç”±äºä¸çŸ¥é“ä¸ºä»€ä¹ˆå…¬å¼æ¸²æŸ“ä¸å‡ºæ¥ï¼Œæˆ‘å°±ä¸æ‰‹æ‰“å…¬å¼äº†ï¼Œç­‰æœ‰æ—¶é—´å†å»æŠŠè¿™ä¸ªé—®é¢˜å¼„äº†ï¼Œæˆ‘å°±ç›´æ¥å¥—ç”¨ç°æˆå·²æœ‰çš„å…¬å¼ï¼Œæˆ–æ˜¯ç›´æ¥æ‰‹å†™å‡ºæ¥ï¼ŒSorryâ€¦ æ–‡ä¸­çš„ç¬¦å·å®šä¹‰å¦‚ä¸‹ï¼š åœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬æåˆ°ï¼Œå¯¹æŠ—è®­ç»ƒåªé€‚ç”¨äºå¸¦æ ‡ç­¾çš„æœ‰ç›‘ç£é—®é¢˜ï¼Œåœ¨åŠç›‘ç£å­¦ä¹ ä¸­å¹¶ä¸æ˜¯å¾ˆé€‚ç”¨ï¼Œæ‰€ä»¥ï¼Œä½œè€…å°±æå‡ºäº†è™šæ‹Ÿå¯¹æŠ—è®­ç»ƒï¼ŒVAT çš„æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š å…¶ä¸­ï¼Œxâå¯ä»¥è¡¨ç¤ºä¸ºæœ‰æ ‡ç­¾æˆ–è€…æ— æ ‡ç­¾æ•°æ®ï¼Œæ­£å¦‚ä¸Šæ–‡ä¸­æ‰€æåˆ°çš„ï¼Œåœ¨å®é™…ä¸­ï¼Œå¹¶æ²¡æœ‰å…³äº q(y, xul) çš„ç›´æ¥ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨p(y|x, Î¸)æ¥æ›¿æ¢ä¹‹ï¼Œå¦‚æœå¸¦æ ‡ç­¾çš„æ ·æœ¬æ¯”è¾ƒå¤šæ—¶ï¼Œpå°±ä¼šé€¼è¿‘qï¼Œåˆ©ç”¨pç”Ÿæˆçš„è™šæ‹Ÿæ ‡ç­¾ä»£æ›¿ä¸çŸ¥é“çš„æ ‡ç­¾ï¼Œå¹¶æ ¹æ®è™šæ‹Ÿæ ‡ç­¾è®¡ç®—å¯¹æŠ—æ–¹å‘ï¼Œæ­¤æ—¶çš„è™šæ‹Ÿæ ‡ç­¾æ˜¯ç”¨ä¸Šä¸€æ­¥è®­ç»ƒä¹‹åå¾—åˆ°çš„æ¨¡å‹è¿›è¡Œä¼°è®¡ï¼Œæ•…æŸå¤±å‡½æ•°æ›´æ–°å¦‚ä¸‹ï¼š å°†æŸå¤±å‡½æ•°æ±‚å¹³å‡ï¼Œå¾—åˆ°æ­£åˆ™é¡¹ï¼ˆregularization termï¼‰ï¼š å®Œæ•´çš„ç›®æ ‡å‡½æ•°ä¸ºï¼š å…¶ä¸­ç¬¬ä¸€é¡¹ä¸ºå¸¦æ ‡ç­¾æ•°æ®çš„è´Ÿå¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼ˆé’ˆå¯¹æœ‰æ ‡ç­¾æ•°æ®ï¼‰ï¼ŒVAT çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼šåªæœ‰ä¸¤ä¸ªè¶…å‚æ•°ï¼šï¼ˆ1ï¼‰å¯¹æŠ—æ–¹å‘çš„é™åˆ¶å‚æ•°ï¼ˆnorm constraintï¼‰É› &gt; 0ï¼›ï¼ˆ2ï¼‰æ§åˆ¶ç›®æ ‡å‡½æ•°çš„ä¸¤ä¸ªç›®æ ‡é¡¹çš„ç›¸å¯¹å¹³è¡¡çš„æ­£åˆ™åŒ–ç³»æ•°ï¼ˆregularization coefficientï¼‰Î± &gt; 0ï¼Œäº‹å®ä¸Šï¼Œä½œè€…æŒ‡å‡ºï¼Œä¸¤ä¸ªè¶…å‚æ•°çš„ä½œç”¨å¤§æŠµç›¸åŒï¼Œäºæ˜¯ VAT ä¸­åªå¾®è°ƒäº†è¶…å‚æ•° É›ï¼Œè€Œå°† Î± å›ºå®šä¸º 1ã€‚ å¯¹äºä¸Šè¿°ç›®æ ‡å‡½æ•°ï¼Œè§‚å¯Ÿåˆ°ï¼Œå½“ r = 0 æ—¶ï¼ŒD æ°¸è¿œä¸º 0ï¼Œæ‰€ä»¥éœ€è¦å¯¹ D è¿›è¡ŒäºŒé˜¶æ³°å‹’å±•å¼€ï¼Œè¿™é‡Œçš„ D ä¸ºï¼š äºŒé˜¶å±•å¼€åå¾—åˆ°ï¼š å…¶ä¸­ H ä¸ºæµ·æ£®çŸ©é˜µï¼ˆHessian Matrixï¼‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š æ•… rvadv å¯ä»¥è¿‘ä¼¼ä¸ºï¼š å…¶ä¸­ï¼šu æ˜¯ H çš„ç¬¬ä¸€ç‰¹å¾ä¸»å‘é‡ï¼Œä¸Šåˆ’çº¿è¡¨ç¤ºåŒæ–¹å‘å•ä½å‘é‡ï¼ˆç®—äº†æˆ‘å†™å‡ºæ¥.ï¼‰ åœ¨è®¡ç®— H çš„ç‰¹å¾å€¼/ç‰¹å¾å‘é‡æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦éœ€è¦ O(IÂ³)ï¼Œè®ºæ–‡ä¸­æåˆ°ä½¿ç”¨å¹‚è¿­ä»£æ³•ï¼ˆ power iteration methodï¼‰å’Œæœ‰é™å·®åˆ†æ³•ï¼ˆfinite difference methodï¼‰æ¥è¿‘ä¼¼æ±‚è§£ï¼Œå‡è®¾ d ä¸ºä¸ç‰¹å¾å‘é‡ä¸å‚ç›´çš„ä¸€ä¸ªéšæœºå•ä½å‘é‡ï¼Œè¿­ä»£è®¡ç®—å¦‚ä¸‹ï¼š æ³¨æ„åˆ° Hd å¯ä»¥è¢«æœ‰é™å·®åˆ†æ¥è¿‘ä¼¼è®¡ç®—ï¼š ç”±äº D çš„ä¸€ä»‹å¯¼è¿˜æ˜¯å¾ˆå¯èƒ½ä¸º 0ï¼Œæ‰€ä»¥ r ç”¨å¦‚ä¸‹æ–¹å¼è¿­ä»£æ›´æ–°ï¼š è¿­ä»£çš„æ¬¡æ•°è¶Šå¤šæ•ˆæœè¶Šå¥½ï¼Œç”šè‡³å¾ˆå¤šæ•°æ®é›†ä¸Šè¿­ä»£æ¬¡æ•°ä¸º 1 éƒ½å–å¾—äº†è¾ƒå¥½çš„æ•ˆæœï¼Œè¿­ä»£æ¬¡æ•°å¦‚ä¸‹ï¼š ä¼ªä»£ç å¦‚ä¸‹ï¼š æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š è¿­ä»£æ¬¡æ•°è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œæœ‰å¤§é‡çš„æœªæ ‡è®°ç‚¹ï¼ˆç°è‰²ç‚¹ï¼‰ä¼šæœ‰è¾ƒé«˜çš„LDSï¼ˆæ·±è“è‰²ï¼‰ï¼Œå³ä¸å¹³æ»‘ï¼Œå› ä¸ºæ¨¡å‹ä¸€å¼€å§‹å¯¹ç›¸åŒç±»åˆ«çš„ point é¢„æµ‹äº†ä¸åŒçš„ labelï¼ŒVAT ä¼šè®© LDS è¾ƒé«˜çš„æ•°æ®ç‚¹æ›´å¤§çš„å‹åŠ›ï¼Œä½¿å¾—æ•°æ®ç‚¹é—´è¾¹ç•Œæ›´å¹³æ»‘ã€‚ æ€»ç»“æ–‡ç« çš„äº®ç‚¹å°±æ˜¯å¯¹äºäºŒé˜¶å¯¼ä»¥åŠä¹‹åçš„å„ç§è¿‘ä¼¼ä¼˜åŒ–ï¼Œç†è®ºæ–¹é¢å¾ˆå……è¶³ï¼Œå®éªŒä¹Ÿå¾ˆå……è¶³ï¼Œç†è®ºæ–¹é¢å¯¹äºæˆ‘è¿™ä¸ªæ¸£ç¡•æ¥è¯´çœŸçš„æŒºè‰°éš¾ï¼Œæˆ‘åœ¨å»å¹´ 12 æœˆä»½å°±å‡†å¤‡çœ‹è¿™ä¸€ç¯‡ï¼Œç»“æœå› ä¸ºç†è®ºè¢«åŠé€€ï¼Œç»ˆäºæ—¶éš”æ•°æœˆï¼Œæˆ‘ç®—æ˜¯å•ƒä¸‹æ¥äº†â€¦ä¸è¿‡ä¹Ÿè¿˜æ˜¯äº‘é‡Œé›¾é‡Œçš„ï¼Œè¿˜æ˜¯å¾—è¡¥å……ä¸€ä¸‹æ•°å­¦ç†è®ºçŸ¥è¯†å•Šï¼Œæœç„¶æˆ‘å¯¼è¯´çš„æ²¡é”™ï¼Œç†è®ºçŸ¥è¯†éƒ½ä¸æ‡‚ï¼Œç»™æˆ‘å‘è®ºæ–‡çœ‹æˆ‘éƒ½çœ‹ä¸æ‡‚ï¼Œé‚£è¿˜æå•¥å‘¢ï¼Œå“ˆå“ˆğŸ¤¦â€â™‚ï¸ï¼Œå°±è¿™æ ·å­ï¼Œå¦‚æœæœ‰æœºä¼šå†å¤ç›˜è¿™ç¯‡è®ºæ–‡ï¼Œæœ‰é—®é¢˜åœ¨æ›´æ–°ã€‚ æœ€åé™„ä¸Šæˆ‘å¾—æ‰‹å†™ç‰ˆå…¬å¼ï¼ˆæƒ¨ä¸å¿ç¹çš„è¢«å…¬å¼è–„çº±äº†ï¼‰ï¼š","categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"Consistency Regularization","slug":"Consistency-Regularization","permalink":"https://ytz7.github.io/tags/Consistency-Regularization/"},{"name":"Adversarial Example","slug":"Adversarial-Example","permalink":"https://ytz7.github.io/tags/Adversarial-Example/"}]},{"title":"å…³äºæ·±åº¦å­¦ä¹ ä¸­é‡åˆ°çš„çŸ¥è¯†ç›²åŒº","slug":"deep-learning-some-questions","date":"2023-05-11T11:47:01.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/eaa3f406.html","link":"","permalink":"https://ytz7.github.io/posts/eaa3f406.html","excerpt":"","text":"å…³äºæ·±åº¦å­¦ä¹ çš„ä¸€äº›é—®é¢˜ä¸çŸ¥è¯†ç›²åŒºæ­¤ç¯‡ç”¨äºè®°å½•åœ¨é˜…è¯»è®ºæ–‡ä»¥åŠåšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜å’ŒçŸ¥è¯†ç›²åŒºï¼Œæ–¹ä¾¿æ—¥åè¿›è¡Œå¤ç›˜ã€‚ æ¿€æ´»å‡½æ•°ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»å‡½æ•°ï¼Ÿé€šå¸¸æ¿€æ´»å‡½æ•°éƒ½æ˜¯éçº¿æ€§çš„ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¼•å…¥éçº¿æ€§å› ç´ ï¼Œä½¿å¾—ç¥ç»ç½‘ç»œèƒ½å¤Ÿæ›´å¥½åœ°è§£å†³æ›´åŠ å¤æ‚åœ°é—®é¢˜ï¼Œåœ¨ç®€å•çš„äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼Œå¦‚æœä¸ä½¿ç”¨æ¿€æ´»å‡½æ•°ï¼Œä½¿ç”¨ç®€å•çš„**é€»è¾‘å›å½’**ï¼Œé‚£ä¹ˆè¯¥æ¨¡å‹åªèƒ½ä½œç®€å•çš„çº¿æ€§åˆ†ç±»ï¼Œè€Œä¸èƒ½ä½œå¤æ‚çš„éçº¿æ€§åˆ’åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœæ‰€æœ‰çš„éšè—å±‚å…¨éƒ¨ä½¿ç”¨çº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œåªæœ‰è¾“å‡ºå±‚ä½¿ç”¨éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œé‚£ä¹ˆæ•´ä¸ªç¥ç»ç½‘ç»œçš„ç»“æ„å°±ç±»ä¼¼äºä¸€ä¸ªç®€å•çš„é€»è¾‘å›å½’æ¨¡å‹ï¼Œæ•ˆæœä¸å•ä¸ªç¥ç»å…ƒæ— å¼‚ã€‚å¦å¤–ï¼Œå¦‚æœæ˜¯æ‹Ÿåˆé—®é¢˜è€Œä¸æ˜¯åˆ†ç±»é—®é¢˜ï¼Œè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°å¯ä»¥ä½¿ç”¨çº¿æ€§å‡½æ•°ã€‚ Sigmoid å‡½æ•°é¥±å’Œå¸¦æ¥çš„é—®é¢˜Sigmoid å‡½æ•°çš„å–å€¼èŒƒå›´åœ¨ (0,1) ä¹‹é—´ï¼Œå•è°ƒè¿ç»­ï¼Œæ±‚å¯¼å®¹æ˜“ï¼Œä¸€èˆ¬ç”¨äºäºŒåˆ†ç±»ç¥ç»ç½‘ç»œçš„è¾“å‡ºå±‚ã€‚ Sigmoid å‡½æ•°é¥±å’ŒåŒºèŒƒå›´å¹¿ï¼Œå®¹æ˜“é€ æˆæ¢¯åº¦æ¶ˆå¤±ã€‚é¥±å’ŒåŒºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ä¸­çº¢è‰²æ¤­åœ†æ ‡æ³¨çš„é¥±å’ŒåŒºæ›²çº¿å¹³ç¼“ï¼Œæ¢¯åº¦çš„å€¼å¾ˆå°ï¼Œè¿‘ä¼¼ä¸ºé›¶ï¼Œä¸” Sigmoid å‡½æ•°çš„é¥±å’ŒåŒºèŒƒå›´å¾ˆå¹¿ï¼Œé™¤äº† [-5,5]ï¼Œå…¶ä½™åŒºåŸŸéƒ½å¯ä»¥è®¤ä¸ºæ˜¯é¥±å’ŒåŒºï¼Œè¿™ç§æƒ…å†µå¾ˆå®¹æ˜“é€ æˆæ¢¯åº¦æ¶ˆå¤±ï¼Œæ¢¯åº¦æ¶ˆå¤±ä¼šå¢å¤§ç¥ç»ç½‘ç»œè®­ç»ƒéš¾åº¦ï¼Œå½±å“ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ€§èƒ½ã€‚ é™å™ªè‡ªç¼–ç å™¨ Denoising Auto-Encoderåœ¨ç¥ç»ç½‘ç»œæ¨¡å‹è®­ç»ƒé˜¶æ®µå¼€å§‹å‰ï¼Œé€šè¿‡ Auto-encoder å¯¹æ¨¡å‹è¿›è¡Œé¢„è®­ç»ƒå¯ç¡®å®šç¼–ç å™¨ W çš„åˆå§‹å‚æ•°å€¼ã€‚ç„¶è€Œï¼Œå—æ¨¡å‹å¤æ‚åº¦ã€è®­ç»ƒé›†æ•°æ®é‡ä»¥åŠæ•°æ®å™ªéŸ³ç­‰é—®é¢˜çš„å½±å“ï¼Œé€šè¿‡ Auto-encoder å¾—åˆ°çš„åˆå§‹æ¨¡å‹å¾€å¾€å­˜åœ¨è¿‡æ‹Ÿåˆçš„é£é™©ã€‚ ç®€å•ç†è§£ï¼Œåœ¨äººç±»çš„æ„ŸçŸ¥è¿‡ç¨‹ä¸­ï¼ŒæŸäº›æ¨¡æ€çš„ä¿¡æ¯å¯¹ç»“æœçš„åˆ¤æ–­å½±å“å¹¶ä¸å¤§ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€å—åœ†å½¢çš„é¥¼å¹²å’Œä¸€å—æ–¹å½¢çš„é¥¼å¹²ï¼Œåœ¨è®¤çŸ¥ä¸­åŒå±äºé¥¼å¹²è¿™ä¸€ç±»ï¼Œå› æ­¤å½¢çŠ¶å¯¹æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦æ˜¯é¥¼å¹²æ²¡æœ‰å¤ªå¤§ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯å™ªå£°ã€‚å¦‚æœä¸èƒ½å°†å½¢çŠ¶æ•°æ®å»é™¤æ‰ï¼Œå¯èƒ½ä¼šäº§ç”Ÿâ€œåœ†é¥¼å¹²æ˜¯é¥¼å¹²ï¼Œæ–¹é¥¼å¹²å°±ä¸æ˜¯é¥¼å¹²â€çš„é—®é¢˜ï¼ˆè¿‡æ‹Ÿåˆï¼‰ã€‚ å½“é‡‡ç”¨æ— ç›‘ç£çš„æ–¹æ³•åˆ†å±‚é¢„è®­ç»ƒæ·±åº¦ç½‘ç»œçš„æƒå€¼æ—¶ï¼Œä¸ºäº†å­¦ä¹ åˆ°è¾ƒé²æ£’çš„ç‰¹å¾ï¼Œå¯ä»¥**åœ¨ç½‘ç»œçš„å¯è§†å±‚ï¼ˆå³æ•°æ®çš„è¾“å…¥å±‚ï¼‰å¼•å…¥éšæœºå™ªå£°**ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸ºé™å™ªè‡ªç¼–ç å™¨ï¼ˆDenoising Auto-Encoderï¼Œ DAEï¼‰ã€‚ é™å™ªè‡ªç¼–ç å™¨ï¼šä¸€ä¸ªæ¨¡å‹ï¼Œèƒ½å¤Ÿä»æœ‰å™ªéŸ³çš„åŸå§‹æ•°æ®ä½œä¸ºè¾“å…¥ï¼Œè€Œèƒ½å¤Ÿæ¢å¤å‡ºçœŸæ­£çš„åŸå§‹æ•°æ®ã€‚è¿™æ ·çš„æ¨¡å‹ï¼Œæ›´å…·æœ‰é²æ£’æ€§ã€‚ ä»¥ä¸‹æ˜¯ä»¥ç»å…¸çš„ MNIST æ‰‹å†™æ•°å­—è¯†åˆ«ä¸ºä¾‹ï¼Œå¯¹äºè¾“å…¥çš„æ•°æ®å¼•å…¥äº†å˜æ¢è§’åº¦ã€éšæœºå™ªç‚¹ã€æ·»åŠ èƒŒæ™¯å›¾åƒç­‰å™ªéŸ³ã€‚æ¨¡å‹é€šè¿‡è®­ç»ƒåå¯ä»¥å¯¹æœ‰å™ªéŸ³å›¾åƒæ›´åŠ é²æ£’ï¼Œè€Œè¿™ä¹Ÿæ›´ç¬¦åˆå®é™…ä½¿ç”¨çš„éœ€æ±‚ã€‚ å¯¹äºæœ‰å™ªéŸ³çš„è¾“å…¥æ•°æ®ï¼ŒåŒºåˆ«äºä¸€èˆ¬è‡ªç¼–ç æœºï¼Œé™å™ªè‡ªç¼–ç æœºè¦åšçš„å°±æ˜¯æ•°æ®çš„é™å™ªã€‚å…³äºé™å™ªçš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯¹äºè¾“å…¥å±‚ $x$ï¼Œä»¥ä¸€å®šæ¦‚ç‡å°†å…¶èŠ‚ç‚¹ç½® 0ï¼Œå¾—åˆ° $\\hat{x}$,ç”¨ $\\hat{x}$ å»è®¡ç®— $y$,è®¡ç®— $z$ ï¼Œå¹¶å°† $z$ ä¸åŸå§‹ $x$ åšè¯¯å·®è¿­ä»£ï¼Œå¯¹ç»“æœè¯¯å·®è¾ƒå°çš„èŠ‚ç‚¹å¯ä»¥è®¤ä¸ºæ˜¯å™ªå£°ã€‚æ¯å±‚å¤„ç†é‡å¤ä¸Šè¿°å·¥ä½œã€‚ è‡ªç¼–ç å™¨çš„æœ¬è´¨æ˜¯å­¦ä¹ ä¸€ä¸ªç›¸ç­‰å‡½æ•°ï¼Œå³ç½‘ç»œçš„è¾“å…¥å’Œé‡æ„åçš„è¾“å‡ºç›¸ç­‰ï¼Œè¿™ç§ç›¸ç­‰å‡½æ•°çš„è¡¨ç¤ºæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯å½“æµ‹è¯•æ ·æœ¬å’Œè®­ç»ƒæ ·æœ¬ä¸ç¬¦åˆåŒä¸€åˆ†å¸ƒï¼Œæ•ˆæœä¸å¥½ï¼Œè€Œé™å™ªè‡ªç¼–ç å™¨åœ¨è¿™æ–¹é¢çš„å¤„ç†æœ‰æ‰€è¿›æ­¥ã€‚ éšæœºæ·±åº¦ Stochastic Depthé’ˆå¯¹äºæ®‹å·®æ¨¡å—çš„ä¼˜åŒ–ï¼Œç”±äºå¾ˆæ·±çš„ ResNet é€šå¸¸éœ€è¦å¾ˆé•¿æ—¶é—´çš„è®­ç»ƒ(ä¹Ÿå°±æ˜¯è®­ç»ƒå¾ˆæ…¢)ï¼Œä½œè€…å¼•å…¥äº†ä¸€ç§ç±»ä¼¼äº dropout çš„æ–¹æ³•ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éšæœºä¸¢å¼ƒå­å›¾å±‚ï¼ˆrandomly drop a subset of layersï¼‰ï¼Œè€Œåœ¨æ¨æ–­æ—¶æ­£å¸¸ä½¿ç”¨å®Œæ•´çš„å›¾ã€‚ ResNet ç½‘ç»œæ˜¯ç”±ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ®‹å·®æ¨¡å—(ResBlock)ä¸²è”èµ·æ¥çš„ï¼Œå¯ä»¥è§†ä¸ºResBlockçš„é›†åˆã€‚åœ¨è®­ç»ƒæ—¶ï¼Œå¯¹æ¯ä¸ª ResBlock éšæœº dropï¼ˆæŒ‰ä¼¯åŠªåˆ©åˆ†å¸ƒï¼‰ï¼Œdrop å°±æ˜¯å°†ä¸Šä¸€ä¸ª ResBlock ç›´æ¥è¾“å‡ºåˆ°ä¸‹ä¸€ä¸ª ResBlockï¼Œè¢« drop çš„ ResBlock ä»€ä¹ˆéƒ½ä¸åšä¹Ÿä¸æ›´æ–°ã€‚å¦å¤–ï¼Œç½‘ç»œçš„è¾“å…¥è¢«è§†ä¸ºç¬¬ä¸€å±‚ï¼Œæ˜¯ä¸ä¼š drop çš„ã€‚ ä¸ Dropout çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œè¯¥æ–¹æ³• drop æ•´ä¸ª ResBlockï¼Œè€Œ Dropout åœ¨è®­ç»ƒæœŸé—´åª drop ä¸€éƒ¨åˆ†ç¥ç»å…ƒèŠ‚ç‚¹ã€‚è¿™ç§æ–¹æ³•å¤§å¤§é™ä½äº†è®­ç»ƒæ—¶é—´ï¼Œç”šè‡³åœ¨è®­ç»ƒå®Œæˆååˆ é™¤éƒ¨åˆ†layerï¼Œè¿˜èƒ½ä¸å½±å“ç²¾åº¦ã€‚ æœ€å°åŒ–ä¿¡æ¯ç†µ Entropy Minimizationå‚è€ƒæ–‡ç« ï¼šæœ€å°ç†µåŸç†ï¼ˆä¸€ï¼‰ åœ¨åŠç›‘ç£å­¦ä¹ ä¸­ï¼Œæœ‰æ ‡ç­¾ï¼ˆåˆ†ç±»å®Œå…¨å‡†ç¡®ï¼‰çš„æ•°æ®æ ·æœ¬é€šå¸¸ç›¸å¯¹è¾ƒå°‘ï¼Œé€šè¿‡è®­ç»ƒæ¨¡å‹å¯¹æœªæ ‡è®°æ•°æ®æ ·æœ¬è¿›è¡Œé¢„æµ‹ï¼Œé€‰æ‹©å‡ºé«˜ç½®ä¿¡åº¦çš„æ ·æœ¬ï¼Œä½œä¸ºæ ‡è®°æ ·æœ¬åŒæœ‰æ ‡ç­¾æ ·æœ¬ä½œä¸ºä¸‹ä¸€æ¬¡è®­ç»ƒçš„æ•°æ®æ ·æœ¬ã€‚ Entropy Minimization æ˜¯ä¸€ç§åœ¨åŠç›‘ç£å­¦ä¹ ä¸­ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå®ƒçš„ç›®çš„æ˜¯æœ€å°åŒ–ä¿¡æ¯ç†µï¼Œä»è€Œä½¿æ¨¡å‹åœ¨åˆ†ç±»æ—¶çš„ä¸ç¡®å®šæ€§æœ€å°ã€‚åœ¨åŠç›‘ç£å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡å‹å°½å¯èƒ½åœ°åˆ©ç”¨æœªæ ‡è®°æ•°æ®æ¥å­¦ä¹ ï¼Œä½†æ˜¯è¿™äº›æ•°æ®å¹¶ä¸å¸¦æœ‰æ­£ç¡®çš„æ ‡ç­¾ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ©ç”¨æŸäº›æŠ€æœ¯æ¥å¸®åŠ©æˆ‘ä»¬å­¦ä¹ è¿™äº›æ•°æ®ã€‚ åŠ å¿«æ¨¡å‹å­¦ä¹ è¿›åº¦çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯é™ä½å­¦ä¹ ç›®æ ‡çš„å†—ä½™ä¿¡æ¯é‡ï¼Œæ‰€æåˆ°çš„â€œå»å†—ä½™â€ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œçœå»æ²¡å¿…è¦çš„å­¦ä¹ æˆæœ¬â€ã€‚ ä¹Ÿå°±æ˜¯é€šå¸¸æ‰€ä½¿ç”¨åˆ°çš„æŠ€å·§ï¼šè¿‡æ»¤æ‰ä½ç½®ä¿¡åº¦çš„æœªæ ‡è®°æ ·æœ¬ï¼Œä¿ç•™é«˜ç½®ä¿¡åº¦æ ·æœ¬ã€‚ Top-1 and Top-5 AccuracyTop-1ï¼š åœ¨å¤šåˆ†ç±»é—®é¢˜ä¸­ï¼Œä¸€èˆ¬è®¤ä¸ºåœ¨ç»è¿‡å…¨è¿æ¥å±‚åå¾—åˆ°çš„æ¦‚ç‡åˆ†å¸ƒä¸­æ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ä¸ºæˆ‘ä»¬æ¨¡å‹çš„é¢„æµ‹ç±»åˆ«ï¼Œå°±åˆ¤æ–­ä¸ºæ­£ç¡®ã€‚ Top-5ï¼š åœ¨å¤šåˆ†ç±»é—®é¢˜ä¸­ï¼Œä¸€èˆ¬è®¤ä¸ºåœ¨ç»è¿‡å…¨è¿æ¥å±‚åå¾—åˆ°çš„æ¦‚ç‡åˆ†å¸ƒä¸­æ¦‚ç‡æœ€å¤§çš„å…¨äº”ä¸ªç±»åˆ«ä¸­æœ‰æˆ‘ä»¬æ¨¡å‹çš„é¢„æµ‹ç±»åˆ«ï¼Œå°±åˆ¤æ–­ä¸ºæ­£ç¡®ã€‚ Dark Knowledgeå¯ä»¥çœ‹ä½œæ˜¯ç»è¿‡ Softmax å‡½æ•°åå¾—åˆ°çš„å„ç±»ç±»åˆ«çš„å¯èƒ½æ€§ï¼Œå…¶åŒ…å«ç€ç±»åˆ«ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œæ¯”å¦‚ï¼ŒçŒ«å’Œç‹—çš„ç›¸ä¼¼æ€§ï¼Œè¦è¿œè¿œå¤§äºçŒ«å’Œèˆ¹çš„ç›¸ä¼¼æ€§ï¼Œè€Œè¿™ç§ç›¸ä¼¼æ€§ï¼Œä¼šåœ¨æ¦‚ç‡å€¼ä¸­æœ‰æ‰€ä½“ç°ï¼Œè€Œè¿™éƒ¨åˆ†ä¿¡æ¯ä¸€è‡´æ²¡æœ‰è¢«å¾ˆå¥½çš„åˆ©ç”¨ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸º Dark Knowledgeã€‚","categories":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"åŠç›‘ç£å­¦ä¹ å­¦ä¹ è¿‡ç¨‹","slug":"semi-suprised-learning-start","date":"2023-05-11T07:08:40.000Z","updated":"2023-09-13T09:03:09.924Z","comments":true,"path":"posts/52ee1a8c.html","link":"","permalink":"https://ytz7.github.io/posts/52ee1a8c.html","excerpt":"","text":"åŠç›‘ç£å­¦ä¹ å†™åœ¨å‰é¢å­¦ä¹ äº†å¿«ä¸€ä¸ªå­¦æœŸçš„ Java ç¨‹åºå¼€å‘ï¼Œè®©æˆ‘æ„Ÿè§‰å¼€å‘çš„è¿‡ç¨‹çœŸçš„å¥½ç©ºæ´â€¦ä½†æ˜¯æˆ‘å¹¶ä¸çŸ¥é“ä¸‹ä¸€æ­¥åˆ°åº•è¦åšä»€ä¹ˆï¼Œåˆå¤„äºæƒ³æ‰¾å®ä¹ åˆæ€•æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œåˆ·äº†å‡ å¤© LeetCodeï¼Œç„¶ååˆå˜æˆäº†â€œå°ğŸäººâ€ï¼Œç´§æ¥ç€è¢«éš”ç¦»ğŸ˜…ï¼ŒçœŸçš„æŒºç—›è‹¦ï¼Œæ‰€å¹¸åœ¨ç¬¬ä¸‰å¤©å°±â€œå‡ºç‹±â€äº†ï¼Œåœ¨è¹²â€œç›‘ç‹±â€æœŸé—´ï¼Œå—åˆ°ä¸€ä¸ªâ€œç‹±å‹â€çš„å¯å‘ï¼Œâ€œè¿˜æ˜¯è¦åšå¥½èŒä¸šè§„åˆ’çš„ï¼Œè‹¥æ˜¯æ²¡æœ‰åšå¥½èŒä¸šè§„åˆ’ï¼Œåƒä¸€åªæ— å¤´è‹è‡ä¸€æ ·ï¼Œå¾ˆå¯èƒ½åœ¨æ¯•ä¸šä¹‹é™…è¿˜æ˜¯æ‰¾ä¸åˆ°å·¥ä½œã€‚â€åœ¨æ€è€ƒäº†ä¸€å¤©åï¼Œæˆ‘å†³å®šé‡æ–°å¼€å§‹åœ¨â€œåŠç›‘ç£å­¦ä¹ â€è¿™ä¸ªé¢†åŸŸå¼€å§‹é›¶åŸºç¡€å­¦ä¹ äº†ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªæƒ³æ³•ï¼Ÿæ˜¯å› ä¸ºæˆ‘è§‰å¾—æˆ‘èµ·åˆè€ƒç ”çš„ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨äººå·¥æ™ºèƒ½è¿™ä¸ªé¢†åŸŸç»§ç»­æ·±å…¥äº†è§£ï¼Œç›®çš„å¾ˆå•çº¯ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘ä¸åšæŒä¸€ä¸‹å‘¢ï¼Ÿäºæ˜¯æˆ‘å†³å®šé‡æ–°å¼€å§‹è¿™ä¸ªè®¡åˆ’ï¼Œç®¡ä»–å‘¢ï¼Œèµ·ç æ˜¯è‡ªå·±å–œæ¬¢åšçš„äº‹æƒ…ï¼Œå“ªæ€•æœªæ¥æ‰¾ä¸åˆ°å·¥ä½œä»€ä¹ˆçš„ï¼Œèµ·ç ç°åœ¨æ˜¯ç”±è¯•é”™çš„èµ„æœ¬çš„ã€‚ ä»¥ä¸‹å°†ä¼šè®°å½•æˆ‘åœ¨å­¦ä¹ æ—¶å€™é‡åˆ°çš„é—®é¢˜/è§£å†³æ–¹å¼/æ–°æ€è·¯/æ„Ÿæƒ³ã€‚ Self-Trainingè‡ªè®­ç»ƒæ–¹æ³•ï¼Œæ¨¡å‹åŸºäºå·²æ ‡è®°å¥½çš„è®­ç»ƒé›†è¿›è¡Œè®­ç»ƒï¼Œå¾—åˆ°ä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼Œåˆ©ç”¨è¯¥åŸºç¡€æ¨¡å‹å¯¹æœªæ ‡è®°çš„æ•°æ®é›†è¿›è¡Œé¢„æµ‹ä¸€ä¸ªä¼ªæ ‡ç­¾ï¼Œç„¶åå°†ä¸¤ä¸ªæ•°æ®é›†æ•´åˆè®­ç»ƒï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„æ¨¡å‹ï¼Œä»è€Œè¿­ä»£æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œç”Ÿæˆä¸€ä¸ªæœ€ä¼˜æ¨¡å‹ã€‚ Pseudo-Labelä¼ªæ ‡ç­¾æŠ€æœ¯é€‚ç”¨äºå°æ ·æœ¬å­¦ä¹ ï¼Œå®é™…ä¸Šåœ¨æ ·æœ¬æå…¶çè´µçš„é‡‘èã€åŒ»ç–—å›¾åƒã€å®‰å…¨ç­‰é¢†åŸŸï¼Œä¼ªæ ‡ç­¾å­¦ä¹ æœ‰æ—¶å€™å¾ˆæœ‰æ•ˆã€‚ ä¼ªæ ‡ç­¾çš„å®šä¹‰æ¥è‡ªäºåŠç›‘ç£å­¦ä¹ ï¼ŒåŠç›‘ç£å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å€ŸåŠ©æ— æ ‡ç­¾çš„æ•°æ®æ¥æå‡æœ‰ç›‘ç£è¿‡ç¨‹ä¸­çš„æ¨¡å‹æ€§èƒ½ã€‚ ç²—ç•¥æ¥è®²ï¼Œä¼ªæ ‡ç­¾æŠ€æœ¯å°±æ˜¯åˆ©ç”¨åœ¨å·²æ ‡æ³¨æ•°æ®æ‰€è®­ç»ƒçš„æ¨¡å‹åœ¨æœªæ ‡æ³¨çš„æ•°æ®ä¸Šè¿›è¡Œé¢„æµ‹ï¼Œæ ¹æ®é¢„æµ‹ç»“æœå¯¹æ ·æœ¬è¿›è¡Œç­›é€‰ï¼Œå†æ¬¡è¾“å…¥æ¨¡å‹ä¸­è¿›è¡Œè®­ç»ƒçš„ä¸€ä¸ªè¿‡ç¨‹ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåˆ©ç”¨æœ‰æ ‡ç­¾çš„æ•°æ®é›†è®­ç»ƒå‡ºä¸€ä¸ªæ¨¡å‹ï¼Œè¿ç”¨è®­ç»ƒå‡ºçš„æ¨¡å‹ç»™äºˆæ— æ ‡ç­¾æ•°æ®ä¸€ä¸ªä¼ªæ ‡ç­¾ã€‚å¦‚ä½•å®šä¹‰æ‰€å±ç±»åˆ«ï¼Ÿåˆ©ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æ— æ ‡ç­¾æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œä»¥æ¦‚ç‡æœ€é«˜çš„ç±»åˆ«ä½œä¸ºæ— æ ‡ç­¾æ•°æ®çš„ä¼ªæ ‡ç­¾ã€‚ entropy regularizationï¼šç”¨äºé˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆï¼Œé€šè¿‡åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥ç†µï¼ˆentropyï¼‰é¡¹æ¥å®ç° åˆ©ç”¨ entropy regularization æ€æƒ³ï¼Œå°†æ— ç›‘ç£æ•°æ®è½¬ä¸ºç›®æ ‡æ•°æ®çš„æ­£åˆ™é¡¹ï¼Œå³å°†æ‹¥æœ‰ä¼ªæ ‡ç­¾çš„æ— æ ‡ç­¾æ•°æ®è§†ä¸ºæœ‰æ ‡ç­¾çš„æ•°æ®ï¼Œåˆ©ç”¨äº¤å‰ç†µï¼ˆä¸æœ€åˆè®­ç»ƒæ¨¡å‹ä¸€è‡´ï¼‰æ¥è¯„ä¼°è¯¯å·®å¤§å°ã€‚ æ¨¡å‹æ•´ä½“çš„ç›®æ ‡å‡½æ•°å¦‚ä¸‹ï¼š å…¶ä¸­å·¦è¾¹ä¸€é¡¹ä¸ºäº¤å‰ç†µï¼Œç”¨æ¥è¯„ä¼°æœ‰æ ‡ç­¾æ•°æ®çš„è¯¯å·®ï¼Œå³è¾¹ä¸€é¡¹å³ä¸º entropy regularization é¡¹ï¼Œç”¨æ¥ä»æ— æ ‡ç­¾çš„æ•°æ®ä¸­è·å–è®­ç»ƒä¿¡å·ã€‚ ä¸ºäº†å¹³è¡¡æœ‰æ ‡ç­¾æ•°æ®å’Œæ— æ ‡ç­¾æ•°æ®çš„ä¿¡å·å¼ºåº¦ï¼Œå¦‚ä¸Šæ‰€ç¤ºï¼Œç®—æ³•åœ¨ç›®æ ‡å‡½æ•°ä¸­å¼•å…¥äº†æ—¶å˜å‚æ•° Î±(t)ï¼Œå…¶æ•°å­¦å½¢å¼å¦‚ä¸‹ï¼Œå…¶ä¸­ T1 å’Œ T2 éƒ½ä¸ºè¶…å‚æ•°ï¼š å› æ­¤ï¼Œéšç€è®­ç»ƒæ—¶é—´çš„å¢åŠ ï¼ŒÎ±(t) å°†ä¼šä»é›¶å¼€å§‹çº¿æ€§å¢é•¿è‡³æŸä¸ªé¥±å’Œå€¼ï¼Œå¯¹åº”æ— æ ‡ç­¾æ•°æ®çš„ä¿¡å·ä¹Ÿå°†é€æ¸é‡Šæ”¾å‡ºæ¥ã€‚èƒŒåçš„æ ¸å¿ƒæƒ³æ³•ä¹Ÿå¾ˆç›´è§‚ï¼Œæ—©æœŸæ¨¡å‹é¢„æµ‹æ•ˆæœä¸ä½³ï¼Œå› æ­¤ entropy regularization äº§ç”Ÿä¿¡å·çš„è¯¯å·®ä¹Ÿè¾ƒå¤§ï¼Œå› è€Œ Î±(t) åº”è¯¥ä»é›¶å¼€å§‹ï¼Œç”±å°é€æ¸å¢å¤§ã€‚ å­˜åœ¨ä¸è¶³ï¼šåªåœ¨è®­ç»ƒæ—¶é—´è¿™ä¸ªç»´åº¦ä¸Šï¼Œé‡‡ç”¨äº†é€€ç«æ€æƒ³ï¼Œå³é‡‡ç”¨æ—¶å˜ç³»æ•°Î±(t)ã€‚è€Œåœ¨ä¼ªæ ‡ç­¾è¿™ä¸ªç»´åº¦ï¼Œå¯¹äºæ¨¡å‹ç»™äºˆçš„é¢„æµ‹æ ‡ç­¾ä¸€è§†åŒä»ï¼Œè¿™ç§æ–¹æ³•åœ¨å®é™…ä¸­å­˜åœ¨æ˜æ˜¾é—®é¢˜ã€‚è‹¥æ¨¡å‹åœ¨å¯¹ä¼ªæ ‡ç­¾çš„æ•°æ®é¢„æµ‹åï¼Œ 10 ä¸ªç±»åˆ«é¢„æµ‹æ¦‚ç‡å€¼éƒ½æ¥è¿‘äº 0.1ï¼Œä»¥æœ€å¤§æ¦‚ç‡è¿™ä¸€åŸåˆ™é€‰æ‹©å¯¹åº”çš„æ ‡ç­¾ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ‡ç­¾å¯¹æ¨¡å‹çš„è®­ç»ƒä¼šé€ æˆä¸€å®šçš„å‰¯ä½œç”¨ã€‚ è®¾æƒ³å¦‚ä½•çªç ´è¿™ä¸€ä¸è¶³ï¼Ÿ ä¹Ÿè®¸å¯ä»¥è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼ŒæŠ›å¼ƒé‚£äº›é¢„æµ‹æœ€å¤§æ¦‚ç‡å€¼å°äºè¯¥é˜ˆå€¼çš„æœªæ ‡è®°æ ·æœ¬ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„æœªæ ‡è®°æ ·æœ¬åˆ†é…ä¼ªæ ‡ç­¾ï¼Œå¹¶åŠ å…¥æ¨¡å‹è¯„ä¼°å½“ä¸­ï¼Œä¹‹åå†è¿­ä»£è®­ç»ƒã€‚ Noisy Studentè®ºæ–‡çš„å…³é”® idea æ˜¯è®­ç»ƒä¸¤ä¸ªæ¨¡å‹ï¼Œâ€œteacherâ€å’Œâ€œstudentâ€ï¼Œå¼ºè°ƒçš„æ˜¯åœ¨studentæ¨¡å‹ä¸­åŠ å…¥å™ªå£°ï¼Œteacher æ¨¡å‹å’Œ student æ¨¡å‹å¯ä»¥ç”¨ä¸åŒçš„æ¨¡å‹è®­ç»ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹ã€‚ åœ¨æœ‰æ ‡ç­¾æ•°æ®ä¸­è®­ç»ƒâ€œteacherâ€æ¨¡å‹ï¼Œå¹¶åˆ©ç”¨è¯¥æ¨¡å‹å¯¹æœªæ ‡è®°æ•°æ®è¿›è¡Œæ¨æ–­ä¼ªæ ‡ç­¾ï¼Œè¿™äº›ä¼ªæ ‡ç­¾å¯ä»¥æ˜¯è½¯æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥å–å…¶æœ€å¤§æ¦‚ç‡çš„ç±»åˆ«å°†å…¶è½¬æ¢ä¸ºç¡¬æ ‡ç­¾ã€‚ ç„¶åå°†æ ‡è®°æ•°æ®ä¸ä¸ºæ ‡è®°æ•°æ®ï¼ˆå¸¦æœ‰ä¼ªæ ‡ç­¾ï¼‰ç½®å…¥â€œstudentâ€è¿›è¡Œè®­ç»ƒï¼Œåœ¨è®­ç»ƒä¹‹å‰æ•°æ®å¢å¼ºä½¿ç”¨ RandAugmentï¼Œå¾…â€œstudentâ€æ¨¡å‹è®­ç»ƒå¥½åï¼Œä½¿ç”¨æœ€æ–°çš„æ¨¡å‹ä½œä¸ºæ–°çš„â€œteacherâ€ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ï¼Œæ­¤è¿‡ç¨‹ä¼šé‡å¤å‡ æ¬¡ï¼ˆé€šå¸¸ä¸º 3 æ¬¡ï¼‰ã€‚ æ€»ç»“è¯¥ç¯‡è®ºæ–‡çš„æµç¨‹æ€è·¯ï¼š é¦–å…ˆå°†åœ¨ ImageNet ä¸Šè®­ç»ƒå¥½çš„æ¨¡å‹ä½œä¸º Teacher Network æ¥è®­ç»ƒ Student Network å†ä½¿ç”¨è®­ç»ƒå¥½çš„ T ç½‘ç»œï¼ˆæ— å™ªéŸ³ï¼‰æ¥å¯¹å¦ä¸€ä¸ªæ•°æ®é›† [JFT dataset] ç”Ÿæˆå°½å¯èƒ½å‡†ç¡®çš„ä¼ªæ ‡ç­¾ ä¹‹åä½¿ç”¨ç”Ÿæˆä¼ªæ ‡ç­¾çš„æ•°æ®é›† [JFT dataset] å’Œ ImageNet ä¸€èµ·è®­ç»ƒ Student Network Student Networkä¸­å¢åŠ äº†æ¨¡å‹å™ªéŸ³ Dropout éšæœºæ·±åº¦ Stochastic Depth æ•°æ®å™ªéŸ³ï¼šå¯¹å›¾ç‰‡è¿›è¡Œæ•°æ®å¢å¹¿ï¼ˆRandAugmentï¼‰ å¯¹ Student æ¨¡å‹æ·»åŠ å™ªéŸ³çš„ä½œç”¨ï¼š æ•°æ®å™ªéŸ³ï¼šæé«˜æ³›åŒ–èƒ½åŠ› æ¨¡å‹å™ªéŸ³ï¼šæé«˜æ¨¡å‹é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ› å…·ä½“å‚æ•°è®¾ç½®ï¼š Stochastic Depthï¼šå¹¸å­˜æ¦‚ç‡å› å­ä¸º 0.8 Dropoutï¼šåˆ†ç±»å±‚ï¼ˆfinal layerï¼‰å¼•å…¥ 0.5 çš„ä¸¢å¼ƒç‡ RandAugmentï¼šåº”ç”¨ä¸¤ä¸ªéšæœºè®¡ç®—ï¼Œå…¶éœ‡çº§è®¾ç½®ä¸º 27 å…¶ä»– Tricksï¼š æ•°æ®è¿‡æ»¤ï¼šå°†æ•™å¸ˆæ¨¡å‹ä¸­ç½®ä¿¡åº¦ä¸é«˜çš„å›¾ç‰‡è¿‡æ»¤ï¼Œå› ä¸ºè¿™é€šå¸¸ä»£è¡¨ç€åŸŸå¤–å›¾åƒï¼ˆout-of-domain dataï¼‰ æ•°æ®å¹³è¡¡ï¼šå¹³è¡¡ä¸åŒç±»åˆ«çš„å›¾ç‰‡æ•°é‡ï¼Œå½“ä¸€ä¸ªç±»åˆ«æ‰€å¯¹åº”çš„å›¾ç‰‡æ•°é‡ä¸æ˜¯å¾ˆå……è¶³æ—¶ï¼Œä¼šé‡‡å–éšæœºå¤åˆ¶çš„æ–¹æ³•æ¥æ‰©å……æ ·æœ¬é‡ è½¯æ ‡ç­¾ï¼ˆSoft Pseudo-Labelï¼‰ï¼šåœ¨æ¶ˆèå®éªŒä¸­è¡¨ç¤ºï¼Œè½¯æ ‡ç­¾å¯¹åŸŸå¤–å›¾åƒæœ‰æ›´å¼ºçš„æŒ‡å¯¼ä½œç”¨ æ¶ˆèå®éªŒ1.å™ªéŸ³æ˜¯å¦å¯¹æ¨¡å‹æœ‰å½±å“ï¼Ÿï¼ˆThe Importance of Noise in Self-trainingï¼‰ ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå™ªéŸ³ã€éšæœºæ·±åº¦ã€æ•°æ®æ‰©å……èµ·ç€é‡è¦çš„ä½œç”¨ä½¿å­¦ç”Ÿæ¨¡å‹èƒœè¿‡æ•™å¸ˆæ¨¡å‹ï¼Œå¯¹æ­¤æœ‰äººæå‡ºæ˜¯ä¸æ˜¯å¯¹æœªæ ‡è®°æ•°æ®åŠ å…¥æ­£åˆ™é¡¹ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆæ¥ä»£æ›¿å™ªéŸ³ï¼Œä½œè€…åœ¨å®éªŒä¸­è¯´æ˜è¿™æ˜¯ä¸å¯¹çš„ã€‚å› ä¸ºåœ¨å»å™ªçš„æƒ…å†µä¸‹ï¼Œæœªæ ‡è®°å›¾åƒçš„è®­ç»ƒæŸå¤±å¹¶æ²¡æœ‰ä¸‹é™å¤šå°‘ä»¥æ­¤è¯´æ˜æ¨¡å‹å¹¶æ²¡æœ‰å¯¹æœªæ ‡è®°æ•°æ®è¿‡æ‹Ÿåˆã€‚ 2.å¯¹äºè¿­ä»£è®­ç»ƒçš„æ¶ˆèå®éªŒï¼ˆA Study of Iterative Trainingï¼‰ ä½œè€…å…ˆåœ¨æ ‡è®°æ•°æ®ä¸Šè®­ç»ƒäº† EfficientNet-B7 ä½œä¸º Teacherï¼Œç„¶åå†è®­ç»ƒ EfficientNet-L2 ä½œä¸º Studentï¼Œç„¶åè®© Student ä½œä¸º Teacher ä¾æ¬¡è¿­ä»£ä¸‰è½®ï¼Œä½œè€…è¡¨æ˜ï¼Œè¿­ä»£è®­ç»ƒæé«˜äº†å‡†ç¡®åº¦ï¼Œå¹¶ä¸”ï¼Œç»™å‡ºå†æœ€åé€šè¿‡è°ƒæ•´æœªæ ‡è®°å›¾åƒå’Œæ ‡è®°å›¾åƒçš„æ¯”ä¸º 1 : 28 æ—¶è¾¾åˆ°æœ€ä¼˜ Top-1 Acc.ã€‚ 3.èƒ½åŠ›å¼ºçš„æ•™å¸ˆæ¨¡å‹ä¼šä¸ä¼šå¯¹å­¦ç”Ÿæ¨¡å‹é€ æˆçš„å½±å“ 4.æ— æ ‡ç­¾çš„æ•°æ®é‡å¤§å° ä½œè€…æŒ‰ç…§æ¯”ä¾‹åˆ†åˆ«ä»æ•´ä¸ªæ•°æ®é›†ä¸­å‡åŒ€é‡‡æ ·ï¼ˆuniformly samplingï¼‰ï¼Œä¼šå‘ç°åœ¨æ•°æ®é‡å‡å°‘è‡³ 1/16 ä¸­ï¼Œæ¨¡å‹çš„æ€§èƒ½å¤§éƒ½ç›¸ä¼¼ï¼Œåœ¨æ•°æ®é‡è¾¾åˆ° 1/32 æˆ–æ›´å°åï¼Œæ¨¡å‹æ€§èƒ½æœ‰äº†æ˜¾è‘—çš„ä¸‹é™ï¼ˆå¯èƒ½ .3 ä¸ªç‚¹å°±å¯ä»¥ç®—æ˜¯æ˜¾è‘—çš„ä¸‹é™äº†å§â€¦ï¼‰ï¼Œæ‰€ä»¥ï¼Œä½¿ç”¨å¤§é‡æœªæ ‡è®°çš„æ•°æ®ä¼šäº§ç”Ÿæ›´å¥½çš„æ€§èƒ½ï¼Œä½†ä½œè€…æŒ‡å‡ºï¼šå¯¹äºå¤§æ¨¡å‹æ¥è¯´ï¼Œæ•°æ®é‡è¶Šå¤šè¶Šå¥½ï¼Œè€Œå°æ¨¡å‹ç”±äºå®¹é‡é™åˆ¶åˆ™å¾ˆå®¹æ˜“é¥±å’Œã€‚ 5.ç¡¬æ ‡ç­¾å’Œè½¯æ ‡ç­¾å¯¹åŸŸå¤–å›¾åƒçš„å½±å“ ä½œè€…å°†é¢„æµ‹ç½®ä¿¡åº¦é«˜ï¼ˆhigh-confidenceï¼‰çš„å›¾åƒè§†ä½œåŸŸå†…å›¾åƒï¼ˆin-domain imagesï¼‰ï¼Œåä¹‹ï¼Œå°†é¢„æµ‹ç½®ä¿¡åº¦ä½ï¼ˆlow-confidenceï¼‰çš„å›¾åƒè§†ä½œåŸŸå¤–å›¾åƒï¼ˆout-of-domain imagesï¼‰ï¼Œä½œè€…è¡¨æ˜ï¼šå¯¹äºåŸŸå†…å›¾åƒï¼Œè½¯ä¼ªæ ‡ç­¾ï¼ˆ soft pseudo labelsï¼‰å’Œç¡¬ä¼ªæ ‡ç­¾ï¼ˆhard pseudo labelsï¼‰éƒ½å¯¹æ¨¡å‹æœ‰ä¸€å®šçš„å¸®åŠ©ï¼›è€Œå¯¹äºåŸŸå¤–å›¾åƒï¼Œè½¯ä¼ªæ ‡ç­¾ä½¿å¾—æ¨¡å‹å¯¹åŸŸå¤–å›¾åƒçš„åˆ¤æ–­æœ‰ç€ä¸€å®šçš„å¸®åŠ©ï¼Œè€Œç¡¬æ ‡ç­¾åˆ™ä¼šå¯¹æ¨¡å‹çš„ç²¾åº¦æœ‰ä¸€å®šçš„æŸå®³ã€‚ å‰©ä¸‹çš„æ¶ˆèå®éªŒå°±ä¸å†™äº†ï¼Œæœ‰ç‚¹è¿‡äºå†—é•¿äº†ã€‚ Consistency Regularizationè¯´åˆ°ä¸€è‡´ï¼ˆConsistencyï¼‰ï¼Œå…¶å®å¾ˆå¤šä»£ä»·éƒ½æœ‰è¿™ä¸ªå†…æ¶µï¼Œå¦‚ MSE ä»£ä»·ï¼Œæœ€å°åŒ–é¢„æµ‹ä¸æ ‡ç­¾çš„å·®å€¼ï¼Œä¹Ÿå°±æ˜¯å¸Œæœ›é¢„æµ‹ä¸æ ‡ç­¾èƒ½å¤Ÿä¸€è‡´ã€‚å…¶ä»–çš„ä»£ä»·ï¼Œå¦‚ KL æ•£åº¦ã€äº¤å‰ç†µä»£ä»·ä¹Ÿç±»ä¼¼ã€‚ æ‰€ä»¥ä¸€è‡´æ€§ï¼Œæ˜¯ä¸€ç§éå¸¸å†…åœ¨è€Œæœ¬è´¨çš„ç›®æ ‡ï¼Œå¯ä»¥è®©æ·±åº¦ç½‘ç»œè¿›è¡Œæœ‰æ•ˆå­¦ä¹ ã€‚ åœ¨åŠç›‘ç£é¢†åŸŸä¸­ï¼Œæœªæ ‡è®°æ•°æ®æ²¡æœ‰æ ‡ç­¾ï¼Œæ‰€ä»¥éœ€è¦è®©æ¨¡å‹æœ‰ä¸ªå‚ç…§ï¼Œä»è€Œé€šè¿‡è¿™ä¸ªå‚ç…§ä»æœªæ ‡è®°æ•°æ®ä¸­å­¦ä¹ ã€‚ Consistency Regularization çš„ä¸»è¦æ€æƒ³æ˜¯ï¼šç›¸åŒçš„ä¸€å¼ å›¾ç‰‡ï¼Œé€šè¿‡æ¨¡å‹æ‰€é¢„æµ‹å‡ºæ¥çš„ç»“æœåº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚å¯¹äºæœªæ ‡è®°æ ·æœ¬ï¼Œè™½ç„¶æ²¡æœ‰å¯¹åº”çš„æ ‡ç­¾æ¥ä½¿å¾—æ¨¡å‹åˆ¤æ–­é¢„æµ‹ç»“æœæ˜¯å¦å‡†ç¡®ï¼Œä½†æ˜¯ï¼Œå´å¯ä»¥åœ¨åŸæœ‰çš„æ ·æœ¬ä¸­æ·»åŠ ä¸€å®šçš„å™ªå£°ï¼Œè®©æ¨¡å‹é€šè¿‡æ¯”å¯¹é¢„æµ‹ç»“æœæ¥è¿›è¡Œå­¦ä¹ ã€‚ Ï€-model and Temporal Ensemblingè®ºæ–‡åœ°å€ï¼šTemporal Ensembling for Semi-Supervised Learning Ï€-modelå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€ä¸ªæœ‰æ ‡ç­¾æ ·æœ¬ï¼ˆå¯è§†ä½œæ— æ ‡ç­¾æ ·æœ¬ï¼‰ï¼Œç»è¿‡éšæœºå›¾åƒå¢å¼ºè¾“å…¥ç½‘ç»œï¼ŒåŒæ—¶ç½‘ç»œä¹Ÿä¼šè¿›è¡Œ Dropout ä¹Ÿå¯ä»¥è§†ä½œå™ªå£°ï¼Œè¾“å…¥ä¸¤æ¬¡å¾—åˆ°ä¸¤ä¸ªç»“æœ Z å’Œ Zâ€™ï¼Œå°† Z ä¸å›¾ç‰‡çœŸæ­£æ ‡ç­¾ y è¿›è¡Œæ¯”å¯¹ï¼Œä½¿ç”¨ äº¤å‰ç†µï¼ˆcross-entropyï¼‰è®¡ç®—æŸå¤± L1ï¼›å°† Z ä¸ Zâ€™ ä½¿ç”¨ å¹³æ–¹å·®ï¼ˆsquared differenceï¼‰è®¡ç®—æŸå¤± L2ï¼Œç„¶åå°†ä¸¤ä¸ªè¿‡ç¨‹æ‰€å¾—åˆ°çš„æŸå¤±ç›¸åŠ ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤ä¸ªæŸå¤±åˆ†åˆ«å æœ‰ä¸€å®šæƒé‡ï¼Œä¸”å æœ‰çš„æƒé‡å€¼ä¼šéšç€è®­ç»ƒæ—¶é—´æ”¹å˜ï¼Œåœ¨å›¾ 2 çš„æ‰€æ ‡è®°çš„æŸå¤±å‡½æ•°å…¬å¼å¯ä»¥çœ‹å‡ºã€‚ å…¶ä¸­ C è¡¨ç¤ºæ ‡è®°æ ·æœ¬çš„çš„å…¨éƒ¨ç±»åˆ«æ•°é‡ï¼Œw(t) æ˜¯éšæ—¶é—´å˜åŒ–çš„åŠ æƒå‡½æ•°ï¼Œ å¹¶ä¸”ï¼Œä½œè€…æŒ‡å‡ºï¼Œç¬¬ä¸€éƒ¨åˆ†çš„æŸå¤±åªé’ˆå¯¹æœ‰æ ‡ç­¾æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œè€Œç¬¬äºŒéƒ¨åˆ†çš„æŸå¤±åˆ™é’ˆå¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œå³åœ¨ç®—æŸå¤±çš„æ—¶å€™ï¼Œæœ‰æ ‡ç­¾æ•°æ®ä¸¤ä¸ªæŸå¤±é¡¹éƒ½ç”¨ï¼Œæ— æ ‡ç­¾æ•°æ®åªç”¨ç¬¬äºŒä¸ªæŸå¤±é¡¹ï¼š ä½œè€…æŒ‡å‡ºï¼Œä½¿ç”¨ w(t) æ—¶ï¼Œç”±äºå‰æœŸæ¨¡å‹å·®ä¸å¤šè¢«æœ‰ç›‘ç£æŸå¤±éƒ¨åˆ†ï¼ˆæ ‡è®°æ•°æ®æ ·æœ¬ï¼‰æ‰€æ”¯é…ï¼Œæ‰€ä»¥ï¼Œåœ¨å¢é•¿çš„å‰æœŸï¼Œä½¿æƒé‡å¢é•¿çš„å°½å¯èƒ½æ…¢ä¸€ç‚¹ã€‚ æ€»ç»“æµç¨‹å°±æ˜¯ï¼Œæ•°æ®é›†ï¼šæœ‰æ ‡ç­¾/æ— æ ‡ç­¾å›¾ç‰‡ï¼Œåˆ†åˆ«ä¸¤æ¬¡è¾“å…¥æ¨¡å‹ï¼Œå…¶ä¸­ï¼ŒL1åªåœ¨æœ‰æ ‡ç­¾æ•°æ®å‚ä¸è®­ç»ƒçš„è¿‡ç¨‹ä¸­ç”¨äºè®¡ç®—æŸå¤±ï¼ŒL2 åˆ™æ˜¯éƒ½æœ‰å‚ä¸è®¡ç®—æŸå¤±ï¼ˆæœ‰æ ‡ç­¾å’Œæ— æ ‡ç­¾ï¼‰ã€‚æ¨¡å‹çš„å™ªéŸ³æ¥è‡ªäºï¼šè¾“å…¥å›¾åƒçš„éšæœºå¢å¼ºï¼Œä»¥åŠæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ Dropoutã€‚è®¡ç®—æŸå¤±å…¬å¼ï¼šL1 ä½¿ç”¨äº¤å‰ç†µæ¥è®¡ç®—æŸå¤±ï¼ŒL2 ä½¿ç”¨å¹³æ–¹å·®å…¬å¼æ¥è®¡ç®—æŸå¤±ã€‚ Temporal Ensemblingç”±äºä»¥è¿™ç§æ–¹å¼è·å¾—çš„åŸ¹è®­ç›®æ ‡æ˜¯åŸºäºå¯¹ç½‘ç»œçš„å•ä¸€è¯„ä¼°ï¼Œå› æ­¤å¯ä»¥é¢„æœŸå®ƒä»¬ä¼šå¾ˆå˜ˆæ‚ã€‚æš‚æ—¶æ€§ç»“åˆé€šè¿‡å°†å¤šä¸ªå…ˆå‰ç½‘ç»œè¯„ä¼°çš„é¢„æµ‹æ±‡æ€»ä¸ºæ•´ä½“é¢„æµ‹æ¥å‡è½»è¿™ç§æƒ…å†µ åœ¨ Ï€-model ä¸­ï¼Œæ¨¡å‹çš„è®­ç»ƒç»“æœéƒ½åªæ˜¯å¯¹ç½‘ç»œè¿›è¡Œå•ä¸€è¯„ä¼°ï¼Œé¢„æµ‹ç»“æœæ²¡æœ‰å¾ˆå¼ºçš„å…³è”æ€§ï¼Œè¿™æ ·å­å°±é€ æˆäº†æ¨¡å‹å˜å¾—å¾ˆâ€œå˜ˆæ‚â€ï¼Œå¹¶ä¸”ï¼Œç›´è§‰è®¤ä¸ºï¼Œå¾ˆéš¾ä¸ç›¸ä¿¡è¿‡å»é¢„æµ‹ç»“æœä¸ç°åœ¨çš„é¢„æµ‹ç»“æœä¸å­˜åœ¨è”ç³»ï¼Œè¿™å°±æ˜¯ Ï€-model çš„ç¼ºç‚¹ã€‚ åœ¨ Temporal Ensembling ä¸­å°±å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è®¡ç®—ç¬¬äºŒéƒ¨åˆ†çš„æŸå¤±ä¸­ï¼Œç”Ÿæˆçš„ Zâ€™ è¦å‚ä¸ä¸‹ä¸€ä¸ª epoch çš„æŸå¤±è®¡ç®—ï¼Œï¼ˆæ³¨æ„æ˜¯æ¯ä¸€ä¸ª epochï¼Œè€Œä¸æ˜¯æ¯ä¸€ä¸ª batchï¼Œè¿™ç§æ”¹å˜å…¶å®æ˜¯éå¸¸ç¼“æ…¢ï¼‰ã€‚ æ¯è®­ç»ƒå®Œä¸€ä¸ª epoch åï¼Œå°±ä¼šå°† Z è¿›è¡Œæ›´æ–°ï¼š æ€»ç»“æµç¨‹ï¼Œä¸åŒäº Ï€-modelï¼ŒTemporal Ensembling åªè¿›è¡Œä¸€æ¬¡æ¨¡å‹é¢„æµ‹ï¼ŒÏ€-model ä¸­çš„ç¬¬äºŒæ¬¡è®­ç»ƒé¢„æµ‹ï¼Œå‰ä¸€ä¸ª epoch ä¿å­˜ä¸‹æ¥çš„ Z ä¸å½“å‰ epoch çš„ z è¿›è¡ŒæŒ‡æ•°æ»‘åŠ¨å¹³å‡ï¼ˆExponential Moving Averageï¼ŒEMAï¼‰è¿ç®—å¾—åˆ°ï¼Œå…¶ä¸­ zâ€™ æ˜¯å½“å‰ epoch çš„æ¨¡å‹é¢„æµ‹ï¼Œå‚ä¸ L2 çš„æŸå¤±è®¡ç®—ã€‚ Mean Teacherè®ºæ–‡çš„å…³é”®æ€æƒ³æ˜¯ä½¿ç”¨ä¸¤ä¸ªæ¨¡å‹ä¸€ä¸ªå«åšStudentï¼Œå¦ä¸€ä¸ªå«åšTeacherï¼Œå…¶ä¸­Student æ¨¡å‹æ˜¯ä¸€ä¸ªå¸¦æœ‰ Dropout çš„æ ‡å‡†ç½‘ç»œæ¨¡å‹ï¼Œä¸ä¸Šæ–‡ä¸­æ‰€æåˆ°çš„ Noise Student ä¸åŒçš„æ˜¯ï¼Œè¯¥ç¯‡è®ºæ–‡ä¸­çš„ Teacher æ¨¡å‹çš„æ¶æ„ä¸ Student æ¨¡å‹ä¸€è‡´ï¼Œä¸”æ›´æ–°å‚æ•°æ—¶æ˜¯ç”± Student æ¨¡å‹çš„å‚æ•°ä½œæŒ‡æ•°æ»‘åŠ¨å¹³å‡è®¡ç®—å¾—åˆ°ã€‚è®¡ç®—æŸå¤±çš„æ–¹å¼ä¸ Temporal Ensemblingç›¸ä¼¼/ä¸€è‡´ï¼Œæœ‰æ ‡ç­¾æ•°æ®ä½¿ç”¨ä¸¤ä¸ªæŸå¤±é¡¹ï¼Œè€Œæ— æ ‡ç­¾æ•°æ®ä½¿ç”¨ Student å’Œ Teacher æ¨¡å‹å¾—åˆ°çš„ç»“æœè®¡ç®—ä¸€è‡´æ€§æŸå¤±ï¼Œæœ€åæ¨¡å‹çš„æ€»æŸå¤±æ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†çš„æŸå¤±å¾—åˆ°ã€‚ ä½¿ç”¨æŒ‡æ•°æ»‘åŠ¨å¹³å‡æ¥æ›´æ–°å‚æ•°åï¼Œæ¨¡å‹å¯ä»¥åœ¨æ¯ä¸€ä¸ª step è€Œä¸æ˜¯åœ¨æ¯ä¸€ä¸ª epochæ¥èšåˆä¿¡æ¯ï¼Œè¿™å¤§å¤§æé«˜äº†æ¨æ–­æ•ˆç‡ã€‚å¹¶ä¸”ï¼Œæ¨¡å‹çš„æ¯ä¸€å±‚è¾“å‡ºéƒ½å¾—åˆ°äº†æå‡ï¼Œè€Œä¸æ˜¯ä»…ä»…æ˜¯åœ¨æœ€åä¸€å±‚è¾“å‡ºç»“æœä¸Šå¾—åˆ°æ”¹å–„ï¼Œæ‰€ä»¥è¿ç”¨æŒ‡æ•°æ»‘åŠ¨å¹³å‡ï¼Œä½¿å¾—ç›®æ ‡æ¨¡å‹æœ‰äº†æ›´å¥½çš„ä¸­é—´è¡¨ç¤ºï¼ˆintermediate representationsï¼‰ã€‚ Teacher æ¨¡å‹å‚æ•° Î¸ çš„æ›´æ–°å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨è®ºæ–‡ä¸­å°†æ¨¡å‹å‚æ•° Î¸ è§†ä½œå¸¸é‡ï¼Œä¸å‚ä¸æ¨¡å‹è®­ç»ƒæ›´æ–°ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ª step ä¸­æŒ‰ç…§å…¬å¼è¿›è¡Œè¿­ä»£æ›´æ–°ã€‚ ä½¿ç”¨ä¸‰ç§ç±»å‹çš„å™ªå£°ï¼š å¯¹è¾“å…¥å›¾åƒè¾“å…¥å›¾åƒä½œéšæœºå¹³ç§»å’Œæ°´å¹³ç¿»è½¬ Translation Randomly {âˆ†x, âˆ†y} âˆ¼ [âˆ’2, 2] Horizontal flip Randomly p = 0.5 Gaussian noise on the input layer Gaussian noise Ïƒ = 0.15 Dropout Dropout p = 0.5 å¹¶ä¸”ï¼Œè®¡ç®—ä¸€è‡´æ€§æŸå¤±ï¼ˆ consistency costï¼‰ä¸ä¸Šè¿°æ‰€æåˆ°çš„æ¨¡å‹ä¸åŒï¼Œä½¿ç”¨çš„æ˜¯å‡æ–¹è¯¯å·®(mean squared error)ï¼Œ æ‰€ä½¿ç”¨çš„åˆå§‹ç½‘ç»œæ¡†æ¶ä¸ºï¼š Virtual Adversarial Trainingç”±äºæœ‰ç›¸å…³å…¬å¼æ¨å¯¼ï¼Œä¸”ç¯‡å¹…å¯èƒ½ä¼šå¾ˆé•¿ï¼ˆè¿™ç¯‡è®ºæ–‡ç†è®ºéƒ¨åˆ†å¥½å¤šâ€¦ï¼‰ï¼Œæ•…å•ç‹¬æ”¾åœ¨å¦ä¸€ç¯‡åšå®¢ä¸­ã€‚ Unsupervised Data Augmentationè¯¥ç¯‡è®ºæ–‡çš„å…³é”® idea æ˜¯ä½¿ç”¨ AutoAugment åˆ›å»ºä¸€ä¸ªæœªæ ‡è®°çš„å›¾åƒçš„å¢å¼ºç‰ˆæœ¬ï¼Œä½¿ç”¨æœ€å°åŒ–æ— æ ‡ç­¾æ•°æ®å¢å¹¿æ•°æ®å’Œæ— æ ‡ç­¾æ•°æ®çš„ KL æ•£åº¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…·ä½“æ€æƒ³å’ŒåŠç›‘ç£å­¦ä¹ ä¸­å…¶ä»–è®ºæ–‡æ‰€ä½¿ç”¨çš„æ–¹æ³•å¾ˆç›¸ä¼¼ï¼Œæ–°é²œç‚¹å°±æ˜¯è®ºæ–‡çš„å¢å¼ºæ–¹å¼ï¼Œå¯¹å¾…ä¸åŒä»»åŠ¡ä½¿ç”¨ä¸åŒçš„å¢å¼ºæ–¹å¼ï¼Œä¸”æ•ˆæœéƒ½è¿˜ä¸é”™ã€‚ å…·ä½“ç»†èŠ‚å¯æŸ¥é˜…åšå®¢ã€‚ 520 è¿™å¤©è¿˜åœ¨å·¥ä½ï¼ŒçœŸå®å’¸é±¼ä¸€æ¡äº† (#ï½€-_ã‚-) ï¼Œä½†ä»Šå¤©è§è¯å†å²äº†é¢ï¼Œå±…ç„¶ä¸çœ‹é¢˜è§£ LeetCode AC äº†ä¸€é“å›°éš¾é¢˜ï¼Œå“ˆå“ˆå“ˆğŸ˜Šï¼Œç„¶åå°±å¥–åŠ±äº†è‡ªå·±çœ‹ä¸€ä¸‹åˆçš„è§†é¢‘ï¼ˆå •è½äº†ä¸€ä¸‹åˆï¼‰ï¼Œshitâ€¦ çœ‹è®ºæ–‡çœ‹è®ºæ–‡~~ æ··åˆæ–¹æ³•ï¼ˆHybrid Methodsï¼‰çœ‹åå­—å°±çŸ¥é“ï¼Œæ··åˆæ··åˆï¼Œå°±æ˜¯æŠŠå‰äººæ‰€æå‡ºçš„ä¸€äº›æ–¹æ³•å°±è¡Œåˆå¹¶ï¼Œä»¥åŠæ·»åŠ ä¸€äº›å…¶ä»–ç»„ä»¶æ¥æé«˜æ€§èƒ½ã€‚ MixMatchä¸»è¦å·¥ä½œæ˜¯åœ¨ç”Ÿæˆæ•°æ®ä¸Šåšäº†å¾ˆå¤§çš„åŠŸå¤«ï¼Œä½†æ„Ÿè§‰è¿˜æ˜¯å¾ˆå·¥ç¨‹â€¦ç”Ÿæˆæ•°æ®çš„ç®—æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š å¯¹äºæœ‰æ ‡ç­¾çš„æ•°æ®ï¼Œå¯¹å…¶ä½œä¸€æ¬¡å¢å¼ºï¼Œå¯¹äºæ— æ ‡ç­¾çš„æ•°æ®ï¼Œå¯¹å…¶ä½œ K ä¸ªä¸åŒçš„å¢å¼ºï¼Œç”Ÿæˆ K ä¸ªå¯¹åº”å¢å¼ºåçš„æ•°æ®ï¼Œå¹¶ä¸”å¯¹ K ä¸ªç”Ÿæˆåçš„æ— æ ‡ç­¾æ•°æ®åšé¢„æµ‹ï¼Œé¢„æµ‹åå°†å…¶é¢„æµ‹åˆ†å¸ƒå–å¹³å‡åçš„åˆ†å¸ƒä½œä¸€æ¬¡é”åŒ–ï¼Œï¼Œä½œä¸º K ä¸ªæ— æ ‡ç­¾æ•°æ®çš„å¯¹åº”åˆ†å¸ƒï¼Œæˆ–è€…å¯ä»¥ç§°ä¹‹ä¸ºæœ€ç»ˆçš„ä¼ªæ ‡ç­¾ã€‚ å¾—åˆ°æœ‰æ ‡ç­¾æ•°æ®å¢å¼ºåçš„ç»“æœ X^(x, p)ï¼Œå’Œæ— æ ‡ç­¾æ•°æ®ç”Ÿæˆåå¸¦æœ‰ä¼ªæ ‡ç­¾çš„æ•°æ®U^(u, q)ï¼Œè¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š ç„¶åå°†å¢å¼ºåçš„æ•°æ® X å’Œ U æ··åˆååšä¸€æ¬¡ Shuffleï¼Œå¾—åˆ°æ ·æœ¬é›† Wï¼Œå…¶ä¸­å‰ N é¡¹ä½œä¸º W_Lï¼Œå‰©ä½™çš„ M é¡¹ä¸º W_Uï¼š é”åŒ–å…¬å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶åå°† MixUp ç®—æ³•è¿ç”¨åœ¨ä¸Šè¿°é›†åˆä¹‹ä¸­ï¼Œä½œä»¥ä¸‹æ“ä½œï¼š å…¶ä¸­ MixUp ç®—æ³•ä¸ºå›¾åƒå¢å¼ºç®—æ³•ï¼Œå°†ä¸¤ä¸ªå›¾åƒæŒ‰ä¸‹é¢çš„å…¬å¼ç”Ÿæˆæ–°çš„å›¾åƒï¼š ä¸ºäº†è®© MixUp æ–¹æ³•ä¸æŸå¤±é¡¹æ›´å…¼å®¹ï¼Œä½œè€…å¯¹å…¶åšäº†ä¸€ç‚¹å°å°çš„ä¿®æ”¹ï¼š æŸå¤±å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š è¾“å…¥ï¼šç›¸åŒ batch å¤§å°æœ‰æ ‡ç­¾æ•°æ® X å’Œæ— æ ‡ç­¾æ•°æ® U å…¶ä¸­ Tï¼ŒKï¼ŒÎ± ä¸ºæ¨¡å‹çš„è¶…å‚æ•°ï¼ŒÎ± åœ¨ MixUp ä¸­éœ€è¦ä½¿ç”¨ï¼ŒT åœ¨é”åŒ–ä¸­ä½¿ç”¨åˆ°ï¼Œ K ä¸º K ä¸ªä¸åŒçš„æ•°æ®å¢å¼ºæ–¹æ³•ï¼š è¾“å‡ºï¼šå¢å¼ºåçš„ç»“æœ X' å’Œ U' ç„¶åè®¡ç®—æœ‰æ ‡ç­¾æ•°æ®çš„æŸå¤± L_Xï¼Œå…¶ä¸­ H ä¸ºäº¤å‰ç†µï¼Œæ— æ ‡ç­¾æ•°æ®çš„æŸå¤± L_Uï¼Œä½¿ç”¨ L2 æŸå¤±ï¼Œå…¶ä¸­ï¼Œæ— æ ‡ç­¾æ•°æ®çš„æŸå¤±é¡¹ä¸­ L æ˜¯æ€»çš„æ ‡ç­¾æ•°é‡ï¼ˆä¹Ÿå°±æ˜¯è¾“å…¥çš„æ ‡ç­¾çš„ç»´åº¦ï¼‰ï¼š æœ€åï¼Œå°†æœ‰æ ‡ç­¾æ•°æ®çš„æŸå¤±å’Œæ— æ ‡ç­¾æ•°æ®çš„æŸå¤±åˆå¹¶ï¼Œå¾—åˆ°æœ€ç»ˆçš„æŸå¤±ï¼Œå…¶ä¸­æ— ç›‘ç£çš„æŸå¤±ä¼šå¯¹å…¶æ–½åŠ ä¸€ä¸ªæƒé‡ Î»_Uã€‚ æ¶ˆèå®éªŒçš„ç»“æœï¼š OKï¼ŒæŒ‰ç…§è¿™ä¸ªåšä¸»å…³äºåŠç›‘ç£å­¦ä¹ çš„ç»¼è¿°ï¼Œç»ˆäºåˆ°è¾¾æœ€åä¸€ç¯‡ç»å…¸è®ºæ–‡äº†ï¼Œä¸è¿‡æœ‰ä»¶äº‹æƒ…ä¸€ç›´æƒ³åæ§½ï¼Œå°±æ˜¯ tensorflow 1. æ€ä¹ˆé‚£ä¹ˆéš¾ç”¨å•Šï¼Œæœ¬æ¥è¯´æƒ³å¤ç°ä¸€ä¸‹ MixMatch çš„å®éªŒï¼Œä»Šå¤©æ£é¼“äº†ä¸€æ•´ä¸ªä¸‹åˆï¼Œè¿˜æ˜¯æ²¡æœ‰æˆåŠŸï¼Œæ°”æ­»æˆ‘äº†ï¼Œåé¢è¯´æ˜¯å’Œ Cuda çš„ç‰ˆæœ¬æœ‰å†²çªï¼Œtensorflow 1.15 çš„ç‰ˆæœ¬åªèƒ½ç”¨ Cuda 10. ï¼ŒæœåŠ¡å™¨ä¸Šåˆæ˜¯ 11. çš„ç‰ˆæœ¬ï¼Œå¥ˆä½•å…¬å…±æœåŠ¡å™¨éƒ½æ˜¯å¤§å®¶ä¸€èµ·ç”¨çš„ï¼Œæˆ‘æ€•æå¾—æœåŠ¡å™¨å´©äº†â€¦ç´¢æ€§ç®—äº†ï¼Œçœ‹ä¸‹ä¸€ç¯‡å»äº†ï¼Œä»¥åæ‰¾è®ºæ–‡æºç çš„æ—¶å€™ï¼Œåº”è¯¥è¦å…ˆæ‰¾ Pytorch ç‰ˆæœ¬çš„ï¼Œä¸ç„¶æè¿™ tensorflow åˆè¦æµªè´¹ä¸å°‘æ—¶é—´ã€‚ ç®—äº†ä»Šå¤©å…ˆä¸å†™äº†ï¼Œä¼šå»è·‘æ­¥åŠ å’Œçˆ¸å¦ˆæ‰“æ‰“ç”µè¯å§â€¦ å†™äº 2023/5/21. å°±å†™äº†ä¸ªå¼€å¤´ ğŸ˜‚ğŸ˜… FixMatchè®ºæ–‡çš„æ–¹æ³•æ˜¯å°†å…ˆå‰æ‰€æåˆ°çš„ä¼ªæ ‡ç­¾ï¼ˆpseudo-labelingï¼‰å’Œä¸€è‡´æ€§æ­£åˆ™åŒ–ï¼ˆconsistency regularizationï¼‰ç»“åˆåœ¨ä¸€èµ·ï¼Œä½†åˆå¤§å¤§ç®€åŒ–äº†æ•´ä½“æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½¿ç”¨äº¤å‰ç†µåœ¨æœ‰æ ‡ç­¾æ•°æ®ä¸Šè®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼ŒæŸå¤±è®°ä¸º L1ï¼Œå¯¹æ¯ä¸€å¼ æœªæ ‡è®°æ•°æ®ï¼Œåšä¸€æ¬¡å¼±å¼±å¢å¼ºå’Œå¼ºå¢å¼ºï¼Œå¯¹å¼±å¢å¼ºåçš„æ ·æœ¬åšé¢„æµ‹ï¼Œå¦‚æœé¢„æµ‹å‡ºçš„æœ€å¤§æ¦‚ç‡å¤§äºè®¾ç½®çš„é˜ˆå€¼ï¼Œé‚£ä¹ˆå°†è¿™ä¸ªæœ€å¤§æ¦‚ç‡å¯¹äºçš„ç±»åˆ«ä½œä¸ºå¼±å¢å¼ºåçš„æ ·æœ¬çš„ä¼ªæ ‡ç­¾ï¼Œå³æœ€åçš„è¾“å‡ºåˆ†å¸ƒä¸º One-Hot ç¼–ç ï¼Œç„¶åå°†å¼±å¢å¼ºå’Œå¼ºå¢å¼ºçš„æ— æ ‡ç­¾æ•°æ®å¯¹åº”çš„æ ‡ç­¾åšä¸€æ¬¡äº¤å‰ç†µï¼Œå¾—åˆ°æŸå¤± L2ï¼Œæœ€åå°†ä¸¤ä¸ªæŸå¤±åŠ æƒå¾—åˆ°æœ€ç»ˆçš„æŸå¤± Lã€‚ ç®—æ³•æ­¥éª¤ï¼š å…·ä½“ç»†èŠ‚å¯æŸ¥é˜…åšå®¢ã€‚","categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"ä¸ªäººéšç¬”","slug":"ä¸ªäººéšç¬”","permalink":"https://ytz7.github.io/tags/%E4%B8%AA%E4%BA%BA%E9%9A%8F%E7%AC%94/"}]}],"categories":[{"name":"åŠç›‘ç£å­¦ä¹ ","slug":"åŠç›‘ç£å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E5%8D%8A%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://ytz7.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"https://ytz7.github.io/categories/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"},{"name":"å­¦ä¹ è®¡åˆ’","slug":"å­¦ä¹ è®¡åˆ’","permalink":"https://ytz7.github.io/categories/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://ytz7.github.io/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Semi-Surprised-Learning","slug":"Semi-Surprised-Learning","permalink":"https://ytz7.github.io/tags/Semi-Surprised-Learning/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://ytz7.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"Object-Detection","slug":"Object-Detection","permalink":"https://ytz7.github.io/tags/Object-Detection/"},{"name":"Hybrid Methods","slug":"Hybrid-Methods","permalink":"https://ytz7.github.io/tags/Hybrid-Methods/"},{"name":"Data Augmentation","slug":"Data-Augmentation","permalink":"https://ytz7.github.io/tags/Data-Augmentation/"},{"name":"Consistency Regularization","slug":"Consistency-Regularization","permalink":"https://ytz7.github.io/tags/Consistency-Regularization/"},{"name":"Adversarial Example","slug":"Adversarial-Example","permalink":"https://ytz7.github.io/tags/Adversarial-Example/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://ytz7.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"ä¸ªäººéšç¬”","slug":"ä¸ªäººéšç¬”","permalink":"https://ytz7.github.io/tags/%E4%B8%AA%E4%BA%BA%E9%9A%8F%E7%AC%94/"}]}